{
  "version": 3,
  "file": "bhmap.js",
  "sources": [
    "ng://bhmap/out/app/bhmap.module.ts",
    "ng://bhmap/out/app/components/painel-selecao-camadas/painel-selecao-camadas.component.ts",
    "ng://bhmap/out/app/services/bhmap-imagem.service.ts",
    "ng://bhmap/out/app/enums/worspaceCamadaEnum.ts",
    "ng://bhmap/out/app/bhmap.component.ts",
    "ng://bhmap/out/app/services/geocoder.service.ts",
    "ng://bhmap/out/app/helpers/camadas/factory-camada.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-parque.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-default.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-logradouro.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-endereco.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-area-trecho-logradouro.ts",
    "ng://bhmap/out/app/helpers/camadas/abstract-camada.ts",
    "ng://bhmap/out/app/services/bhmap.service.ts",
    "ng://bhmap/out/app/models/bhMap.ts",
    "ng://bhmap/out/app/helpers/utils.ts",
    "ng://bhmap/out/app/models/tipoCamada.ts",
    "ng://bhmap/out/app/enums/tipoControlePontoEnum.ts",
    "ng://bhmap/out/app/enums/camadasEnum.ts",
    "ng://bhmap/out/app/models/objetoOutputMapa.ts"
  ],
  "sourcesContent": [
    "import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgHttpLoaderModule } from 'ng-http-loader/ng-http-loader.module';\r\nimport { BhMapComponent } from './bhmap.component';\r\nimport { PainelSelecaoCamadasComponent } from './components/painel-selecao-camadas/painel-selecao-camadas.component';\r\nimport { GeocoderService } from './services/geocoder.service';\r\nimport { BhMapService } from './services/bhmap.service';\r\nimport { BhMapImageService } from './services/bhmap-imagem.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BhMapComponent,\r\n    PainelSelecaoCamadasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgHttpLoaderModule\r\n  ],\r\n  exports: [\r\n    BhMapComponent\r\n  ],\r\n  providers: [\r\n    GeocoderService,\r\n    BhMapService,\r\n    BhMapImageService\r\n  ]\r\n})\r\nexport class BhMapModule { }\r\n",
    "import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\n\r\n\r\n@Component({\r\n  selector: 'app-painel-selecao-camadas',\r\n  styles: [`.div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8;z-index:20000}`],\r\n  template: `<div class=\"div-camadas\">\r\n\r\n    <div style=\"text-align: center;padding-top: 5px;\"><b>Visualizar</b></div>\r\n\r\n\r\n    <div style=\"margin:5px;\">\r\n\r\n        <div *ngFor=\"let c of camadas\">\r\n            <input type=\"checkbox\" [id]=\"c.nome\" [(ngModel)]=\"c.selecionado\" #ckb=\"ngModel\" [disabled]=\"!c.habilitado\"\r\n                (change)=\"onChange(c)\" />\r\n            <label [for]=\"c.nome\">{{ c.descricao }}</label>\r\n        </div>\r\n\r\n    </div>\r\n</div>`,\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => PainelSelecaoCamadasComponent),\r\n    multi: true\r\n  }]\r\n})\r\nexport class PainelSelecaoCamadasComponent implements ControlValueAccessor {\r\n\r\n    @Output()\r\n    change = new EventEmitter<Array<TipoCamada>>();\r\n\r\n    camadas = new Array<TipoCamada>();\r\n\r\n    @Input()\r\n    get model() {\r\n        return this.camadas;\r\n    }\r\n\r\n    set model(value: Array<TipoCamada>) {\r\n        this.camadas = value;\r\n    }\r\n\r\n    writeValue(value: Array<TipoCamada>) {\r\n        if (value !== undefined) {\r\n            this.camadas = value;\r\n        }\r\n    }\r\n\r\n    propagateChange = (_: any) => { };\r\n\r\n    registerOnChange(fn) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    registerOnTouched() { }\r\n\r\n    /**\r\n     * Retorna todas as camadas selecionadas mais o valor da camada corrente, que pode ser selecionado ou não selecionado\r\n     * para aplicar a visibilidade.\r\n     * @param camadaCorrente\r\n     */\r\n\r\n    onChange(camadaCorrente: TipoCamada) {\r\n     const camadasResultantes =  this.camadas.filter(c => c.selecionado && c.id !== camadaCorrente.id);\r\n     camadasResultantes.push(camadaCorrente);\r\n     this.change.emit(camadasResultantes);\r\n    }\r\n}\r\n",
    "\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { CamadasEnum } from '../enums/camadasEnum';\r\nimport GeoJSON from 'ol/format/GeoJSON';\r\nimport { getWorkspaceByCamada, WorspaceCamadaEnum } from '../enums/worspaceCamadaEnum';\r\nimport { calculaAreaImagemPorGeometrias, concatInQueryParams, epsg, getUrlBhMap, getUrlCamadas } from '../helpers/utils';\r\nimport { BhMapService } from './bhmap.service';\r\n\r\n/**\r\n *  Service que retorna uma imagem do servidor de backend do bhmaps (goserver) de acordo com  um filtro (cql_filter) e uma camada.\r\n *  @author breno.mcosta\r\n */\r\n\r\n@Injectable()\r\nexport class BhMapImageService {\r\n\r\n    private proxyHost: string;\r\n    private urlBhMap: string;\r\n    private workspaceBase: string;\r\n    private urlCamadas: string;\r\n    private nomeMapaBase: string;\r\n    private sirgas: boolean;\r\n\r\n    constructor(private httpClient: HttpClient, private bhMapService: BhMapService) { }\r\n\r\n    /**\r\n     *  Registra varíaveis e urls.\r\n     * @param urlProxy\r\n     * @param isProduction\r\n     * @param camadasEnum\r\n     */\r\n\r\n    private registraVariaveis(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>): void {\r\n        this.proxyHost = urlProxy;\r\n        this.urlBhMap = getUrlBhMap(isProduction);\r\n        this.workspaceBase = `${getWorkspaceByCamada(camadasEnum[0])}`;\r\n        this.urlCamadas = getUrlCamadas(isProduction);\r\n        if (this.workspaceBase === WorspaceCamadaEnum.Sirgas) {\r\n            this.nomeMapaBase = 'S2000_BHBASE';\r\n            this.sirgas = true;\r\n        } else {\r\n            this.nomeMapaBase = 'MAPA_BASE';\r\n            this.sirgas = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  Recupera as geometrias e a imagem de acordo com os parâmetros informados.\r\n     * @param urlProxy - URL do servidor proxy no backend responsável por buscar recursos via https..\r\n     * @param isProduction - Variável que define se as urls do bhmaps seram de homologação ou produção.\r\n     * @param camadasEnum  - Array de camadas que serão adicionadas com a camada base para geração da imagem, a primeira camada deve ser a mesma do cqlFilter. Ver CamadasEnum.ts.\r\n     * @param cqlFilter  - Filtro para recuperação das geometrias da camada, mais detalhes em https://wiki.state.ma.us/display/massgis/GeoServer+-+CQL\r\n     * @param largura - Largura da imagem, argumento com valor default 800px.\r\n     * @param altura - Largura da imagem, argumento com valor default 600px.\r\n     * @param buffer - Buffer para cálculo da área da imagem, após a concatenação das geometrias esse valor é aplicado para dar um zoom melhor na imagem. Quanto maior o valor do buffer menor será o zoom da imagem, argumento com valor default 100\r\n     */\r\n\r\n    getGeometriasEImagem(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>, cqlFilter: string, largura: number = 800, altura: number = 600, buffer: number = 100): Observable<any> {\r\n\r\n\r\n        this.registraVariaveis(urlProxy, isProduction, camadasEnum);\r\n\r\n        return new Observable((observer) => {\r\n\r\n            if (!cqlFilter)  {\r\n                observer.next();\r\n                observer.complete();\r\n                return;\r\n            }\r\n\r\n            const cqlFilterGeometria = this.aplicaFiltroEspecificoParaGeometria(cqlFilter, camadasEnum);\r\n\r\n            const typename = `${this.workspaceBase}:${this.sirgas ? 'S2000_' : ''}${camadasEnum[0].toUpperCase()}`;\r\n\r\n            this.bhMapService.getFeature(typename, cqlFilterGeometria, this.proxyHost, this.urlBhMap).pipe(mergeMap(json => {\r\n\r\n \r\n\r\n               const features = new GeoJSON().readFeatures(json);\r\n\r\n                const geometrias = features.map((ponto: any) => {\r\n                    return { geometry: ponto.geometry };\r\n                });\r\n\r\n                return this.getImagem(urlProxy, isProduction, camadasEnum, geometrias, cqlFilter, largura, altura, buffer);\r\n\r\n            })).subscribe(arrayBuffer => {\r\n                observer.next(arrayBuffer);\r\n                observer.complete();\r\n            }, (error) => {\r\n                console.error(error);\r\n                // Retorna vazio para não causar erro na aplicação chamadora.\r\n                observer.next();\r\n                observer.complete();\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     *  Recupera a imagem de acordo com os parâmetros informados.\r\n     * @param urlProxy - URL do servidor proxy no backend responsável por buscar recursos via https..\r\n     * @param isProduction - Variável que define se as urls do bhmaps seram de homologação ou produção.\r\n     * @param camadasEnum  - Array de camadas que serão adicionadas com a camada base para geração da imagem, a primeira camada deve ser a mesma do cqlFilter. Ver CamadasEnum.ts.\r\n     * @param geometrias - geometrias dos pontos caso já existam.\r\n     * @param cqlFilter  - Filtro para recuperação das geometrias da camada, mais detalhes em https://wiki.state.ma.us/display/massgis/GeoServer+-+CQL\r\n     * @param largura - Largura da imagem, argumento com valor default 800px.\r\n     * @param altura - Largura da imagem, argumento com valor default 600px.\r\n     * @param buffer - Buffer para cálculo da área da imagem, após a concatenação das geometrias esse valor é aplicado para dar um zoom melhor na imagem. Quanto maior o valor do buffer menor será o zoom da imagem, argumento com valor default 100\r\n     */\r\n\r\n    getImagem(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>, geometrias: any, cqlFilter: string, largura: number = 800, altura: number = 600, buffer: number = 100): Observable<any> {\r\n\r\n        if (!this.workspaceBase) {\r\n            this.registraVariaveis(urlProxy, isProduction, camadasEnum);\r\n        }\r\n\r\n        const parametros = {\r\n            service: 'WMS',\r\n            version: '1.1.0',\r\n            request: 'GetMap',\r\n            srs: epsg,\r\n            format: 'image/png',\r\n            layers: `${this.workspaceBase}:${this.nomeMapaBase},${camadasEnum.map(camadaEnum => `${getWorkspaceByCamada(camadaEnum)}:${this.sirgas ? 'S2000_' : ''}${camadaEnum.toUpperCase()}`).join(',')}`,\r\n            bbox: `${calculaAreaImagemPorGeometrias(geometrias, buffer)}`,\r\n            width: largura,\r\n            height: altura,\r\n            cql_filter: `include;${cqlFilter}`\r\n        };\r\n\r\n        return new Observable((observer) =>\r\n            this.httpClient.get(`${this.proxyHost}${this.urlCamadas}${this.workspaceBase}/wms?${concatInQueryParams(parametros)}`, { responseType: 'arraybuffer' }).subscribe(blob => {\r\n                observer.next(blob);\r\n                observer.complete();\r\n            }, (error) => {\r\n                console.error(error);\r\n                observer.error(error);\r\n        }));\r\n\r\n    }\r\n\r\n    /**\r\n     *  Aplica um filtro específico caso o filtro da recuperação da geometria seja diferente da imagem.\r\n     * @param cqlFilter\r\n     * @param camadasEnum\r\n     */\r\n\r\n    private aplicaFiltroEspecificoParaGeometria(cqlFilter: string, camadasEnum: Array<CamadasEnum>) {\r\n\r\n        // No caso da camada de obra o filtro pelo COD_PROFUNDIDADE é feito apenas na query de imagem e não na de geometria.\r\n        if (camadasEnum.find(c => c === CamadasEnum.ObraLogradouro)) {\r\n            return cqlFilter.split(';')[0];\r\n        }\r\n\r\n        return cqlFilter;\r\n    }\r\n\r\n}\r\n",
    "import { CamadasEnum } from './camadasEnum';\r\n\r\nexport enum WorspaceCamadaEnum {\r\n\r\n    BhGeo = 'ide_bhgeo',\r\n    Sirgas = 'pbh_sirgas',\r\n    PbhBase = 'pbh_base'\r\n}\r\n\r\nexport function getWorkspaceByCamada(camadaEnum: CamadasEnum) {\r\n\r\n    switch (camadaEnum) {\r\n\r\n        case CamadasEnum.Endereco:\r\n        case CamadasEnum.Logradouro:\r\n        case CamadasEnum.Parque:\r\n        case CamadasEnum.PatrimonioCultural:\r\n        case CamadasEnum.Praca: {\r\n            return WorspaceCamadaEnum.BhGeo;\r\n        }\r\n\r\n        case CamadasEnum.AreaTrechoLogradouro: {\r\n            return WorspaceCamadaEnum.Sirgas;\r\n        }\r\n        case CamadasEnum.ObraLogradouro: {\r\n            return WorspaceCamadaEnum.PbhBase;\r\n        }\r\n    }\r\n}",
    "import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { Spinkit } from 'ng-http-loader/spinkits';\r\nimport Draw from 'ol/interaction/Draw';\r\nimport { TipoControlePontoEnum } from './enums/tipoControlePontoEnum';\r\nimport { AbstractCamada } from './helpers/camadas/abstract-camada';\r\nimport { caminhoMetadados } from './helpers/utils';\r\nimport { BhMap } from './models/bhMap';\r\nimport { ObjetoOutputMapa } from './models/objetoOutputMapa';\r\nimport { TipoCamada } from './models/tipoCamada';\r\nimport { BhMapService } from './services/bhmap.service';\r\nimport { FactoryCamada } from './helpers/camadas/factory-camada';\r\nimport { GeocoderService } from './services/geocoder.service';\r\nimport { CamadasEnum } from './enums/camadasEnum';\r\n\r\n/**\r\n *  Componente base que busca as camadas no servidor do bhmaps.\r\n *  Este componente carrega os callbacks das camadas e suas características específicas de acordo\r\n *  a classe TipoCamada.ts.\r\n *  O projeto utiliza o OpenLayers 5 como base.\r\n *  @author breno.mcosta\r\n */\r\n@Component({\r\n  selector: 'app-bhmap',\r\n  styles: [`.cabecalho{text-align:center;color:#000;font-weight:700;background-color:#d3d3d3;opacity:.8}.btn{border:1px solid transparent;padding:.375rem .75rem;line-height:1.5;cursor:pointer;opacity:.7}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-danger{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-lograd{cursor:pointer;border:none;opacity:.7}.btn-lupa{background:url(data:image/gif;base64,R0lGODlhFAAUAPcAAP////7+/vz///39/fb///n///L///z8/Pv7++////r6+vn5+fj4+OL//+H//+D///f3993//9r//9v//9X//9n//9f//9j//9X+//X19dL//9D///T09PPz887+/9H7/8j8//Hx8fDw8O/v78r4/8j4/+7u7s73/+3t7cv2/+zs7NLy/+vr6+rq6unp6cTz/8Xv/+fn5+bm5sHu/+Xl5ePj4+Pi4uLi4sDp/+Hh4eDg4N/f38Lk+97e3t3d3dzc3Lri/Nvb28rg6cje49nZ2NnY19nY2NjY2MHf4djY19fX2NfX19PY4Lbc+6zf/7jd6tbW1q3e/9XV1bDc/9LU1dPT09LS06fb/9HR0dHS08/Pz87Ozs3Nzc7Oze7NZs3NzMvLzPDLZZTV//bHY8nJyMjIyMfHx8TExMXFxMPDxMPDw8HDx8LCwr/CwqbF4r+/v7q9xbe7wrq5uaC7yae6x9i1V7S1tf2pSrSzsbmxr6O3uqa1xP+lR6+yt7Cxsa2wsrCvra+vr6uvsfehRauqqq2qnZSszqmmnKeil5ygw5+dnIufrZeXl8qMYZeVlZWSnbaLfo2UnJSSkcuGXJGRkpWRj4STr4WRtJCQkJGRjZOQjJOOipGOi5CMko2Mi4uLi4mIioqHhXyJkYaFh6p9dIaEgqV5dn2DhYGAfqJ4dH9+f3J/lHh+hnt7fnp4eHd3e3d2dml5gWp5gnd1e3h0cGV3fnRzd21yh3BvbnBubWlueGdnZ2Rma2FmdFphZldeYV1bXlpZV1pYWFpWVlRUUVNSUFRST1NPS01MSkxJSUpIS0lJSExHRTg3NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAQUAP8ALAAAAAAUABQAAAj/AAEIHEiwoEGDDFTokKKl4ZEaIxQcFGjixxY/pTZtkrPlRggEB0dYzOUqEp09rzx9uSHCIIIaWFDxYvLAA4gnt0KRqQGhoIgggFoJAbDiSpQTPHrhkcKioAorkkRVwDFlxokTGAzZ6kKjIIsujxKVEANDggYNEtwAO7PDK5lOlig4+XAhQQIHeoSd6UEQAQ01mVY1eUEigoDDp4Kl8THwwIgifTjRugTEgoUGBNoo27WlKwDHROIgqjNpFqs5SIYsajbqTRIUABCMIALnUJg7kH4dYzYsWTFYgaCw4AAgg401hbzwSSVrmSpQoDAR2rLExQKKVPKMGWQqFjJKdtiUTtGy5AYKCAECADCRpVIjUrWMMUJTRYeMFi0WqB9owoggXb4Q44gZR4wA0kQcyKDFH7goAkaBB0w0UAcxJGFhDiNEKKFAB2QgwociSLRhQAA7);height:21px;width:21px;padding:6px}.btn-fechar{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEUAAADbVWHfUF/gT1/fT13fT1/gT1/gT18AAADzuIw9AAAAB3RSTlMAFbrWN9LwcKApFAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfgCxkRDyO4SjzcAAAAU0lEQVQI12NgVHZgYGAxEmAQLU9hYHArD2RQLy9zYEkvL2IwLy9PcSsvLwaKlpelAzkMQGEgKHMAKSwHCTCAhUACCAZMCq4Yrh1uINwKuKUwZwAA6eEm66TvjNYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMTEtMjVUMTc6MTU6MzUrMDE6MDC3uE8LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTExLTI1VDE3OjE1OjM1KzAxOjAwxuX3twAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=);height:16px;width:15px}.div-salvar{position:absolute;margin-right:55px;margin-bottom:200px;bottom:0;right:0;z-index:20000}.div-remover-pontos{position:absolute;margin-right:55px;margin-bottom:150px;bottom:0;right:0;z-index:20000}.div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8}.div-remove-pontos{position:absolute;top:150px}.div-pesquisa-logradouro{position:absolute;left:90px;top:10px;z-index:20000}.div-endereco{position:absolute;left:90px;top:66px;opacity:.9;z-index:20000;height:200px;overflow:auto}.tabela-pesquisa-logradouro{border:1px solid gray}.tabela-endereco{background-color:#d3d3d3;z-index:999;border:1px solid #000;cursor:pointer}.tabela-endereco>tbody>tr:nth-of-type(even){background-color:#f9f9f9}::-webkit-scrollbar{width:12px}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.logoBHMap{position:absolute;bottom:10px;right:10px;z-index:20000;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background-position:center center;background-size:contain;width:64px;height:18px}.BHMapZoomBox{z-index:20000;position:absolute;left:0;top:20px}.BHMapZoomBoxMinus a:hover,.BHMapZoomBoxPlus a:hover{-webkit-box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03);box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03)}.BHMapZoomBoxPlus a{position:absolute;left:10px;top:7px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUwRTZCRkI3NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUwRTZCRkI4NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTBFNkJGQjU2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTBFNkJGQjY2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7cwPMXAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAZSURBVHjaYmBkZGRgYACR2Fj4AV69AAEGAAauACW68QgkAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}.BHMapZoomBoxMinus a{position:absolute;left:10px;top:34px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjRDMEQ5NjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjRDMERBNjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyNEMwRDc2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyNEMwRDg2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uh53jAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAVSURBVHjaYmCEAQZsLPwAr16AAAMACdgAN9MxY1IAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}`],\r\n  template: `\r\n<spinner [backgroundColor]=\"'#64676b'\" [spinner]=\"spinkit.skThreeBounce\" [debounceDelay]=\"200\">\r\n</spinner>\r\n\r\n<!-- Controles de zoom do mapa-->\r\n<div class=\"BHMapZoomBox\">\r\n  <div class=\"BHMapZoomBoxPlus\">\r\n     <a href=\"#\" (click)=\"zoomIn()\"></a>\r\n   </div>\r\n   <div class=\"BHMapZoomBoxMinus\">\r\n      <a href=\"#\" (click)=\"zoomOut()\"></a>\r\n  </div>\r\n</div>\r\n\r\n<!-- Div que renderiza o mapa\r\n\r\n  \r\n<div id=\"BHMap\" style=\"height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;\"></div> -->\r\n \r\n\r\n<div id=\"map\" class=\"map\" style=\"height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;\"></div>\r\n\r\n\r\n<!--Pesquisa por logradouros.-->\r\n\r\n<div class=\"div-pesquisa-logradouro\">\r\n <table class=\"tabela-pesquisa-logradouro\">\r\n   <tr>\r\n     <td class=\"cabecalho\"><label for=\"nomeLogradouro\">Logradouro</label>\r\n     </td>\r\n   </tr>\r\n   <tr>\r\n     <td>\r\n       <input type=\"text\" [(ngModel)]=\"nomeLogradouro\" style=\"width: 180px;\" placeholder=\"Digite o endereço\" (keypress)=\"keypressLogradouro($event)\"  />\r\n       <input type=\"number\" [(ngModel)]=\"numeroLogradouro\" style=\"width: 50px;\" min=\"1\" placeholder=\"Nº\" (keypress)=\"keypressLogradouro($event)\"  />\r\n       <button (click)=\"buscaLogradouro()\" type=\"button\" class=\"btn-lograd btn-lupa\" title=\"Pesquisar\"></button>\r\n     </td>\r\n   </tr>\r\n </table>\r\n</div>\r\n\r\n<!-- Grid de resultado pesquisa logradouros -->\r\n\r\n<div class=\"div-endereco\">\r\n <table class=\"tabela-endereco\" *ngIf=\"enderecos && enderecos.length > 1\">\r\n   <tr>\r\n     <td style=\"text-align:right\">\r\n       <button (click)=\"limparEnderecos()\" class=\"btn-lograd btn-fechar\" type=\"button\" title=\"Fechar\"></button>\t\r\n     </td>\r\n   </tr>\r\n   <tr *ngFor=\"let endereco of enderecos\" (click)=zoomEndereco(endereco)>\r\n     <td> {{endereco.tipologradouro}} {{endereco.nomelogradouro}} , BAIRRO {{endereco.bairropopular | uppercase}}\r\n     </td>\r\n   </tr>\r\n </table>\r\n</div>\r\n\r\n<!--Componente de camadas / profundidades.-->\r\n\r\n<ng-container *ngIf=\"tiposCamadasSelecaoUsuario\">\r\n  <app-painel-selecao-camadas id=\"camadas\" [(ngModel)]=\"tiposCamadasSelecaoUsuario\" (change)=\"changeCamada($event)\" ></app-painel-selecao-camadas>\r\n</ng-container>\r\n\r\n<div class=\"div-remover-pontos\">\r\n <button type=\"button\" class=\"btn btn-danger\" (click)=\"removerPontos()\">Remover pontos</button>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"logoBHMap\"> </div>`\r\n})\r\nexport class BhMapComponent implements OnInit, OnDestroy {\r\n\r\n  // Camadas do bhMaps.\r\n  @Input()\r\n  tiposCamadas: Array<TipoCamada> = [new TipoCamada({camadaEnum: CamadasEnum.Logradouro, tipoControlePontoEnum: TipoControlePontoEnum.trajeto})];\r\n\r\n  // URL do servidor proxy no backend responsável por buscar recursos via https.\r\n  @Input()\r\n  urlProxy = 'http://localhost:8080/licenciamento/proxy?server=';\r\n\r\n\r\n  // Variável de ambiente que determinará as urls do bhMaps (homologação ou produção).\r\n  @Input()\r\n  isProduction = false;\r\n\r\n  // Objeto de saída.\r\n  @Output()\r\n  emitter: EventEmitter<ObjetoOutputMapa> = new EventEmitter<ObjetoOutputMapa>();\r\n\r\n  @Input()\r\n  painelSelecaoCamadas: boolean;\r\n\r\n  @Input()\r\n  msgErroEndereco: string;\r\n\r\n   // Para camadas como endereço quando existem muitos endereços próximos o zoom máximo é indicado porém pode ser mais lento.\r\n   @Input()\r\n   zoomMaximo: boolean;\r\n\r\n  // Classe abstrata responsável por chamadas de comportamentos\r\n  // específicos de acordo com a camada principal do array tiposCamadas informado via @Input tiposCamadas\r\n  // A criação de uma nova camada implica na extensão dessa classe.\r\n  abstractCamada: AbstractCamada;\r\n\r\n  // Enum tipo controle ponto\r\n  tipoControlePontoEnum = TipoControlePontoEnum;\r\n\r\n  // Quando for informado o Input painelSelecaoCamadas carrega por default as camadas do Input tiposCamadas no componente painel-selecao-camadas.component.ts\r\n  tiposCamadasSelecaoUsuario: Array<TipoCamada>;\r\n\r\n  // Objeto local do bhMaps.\r\n  bhMap: BhMap;\r\n\r\n  // Pesquisa de logradouro e endereço\r\n  // Campos referentes a aba de filtros de pesquisa e zoom do mapa.\r\n  nomeLogradouro: string;\r\n  numeroLogradouro: number;\r\n  nomeParque: string;\r\n  enderecos: Array<any>;\r\n  parques: Array<any>;\r\n\r\n  // Draw openlayers\r\n  draw: Draw;\r\n\r\n  // Componente de espera durante o loading de uma chamada HttpClient\r\n  spinkit = Spinkit;\r\n  factoryCamada = new FactoryCamada();\r\n\r\n  constructor(public geocoderService: GeocoderService, public bhMapService: BhMapService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // Instancia o objeto local do bhMaps.\r\n    // Esse objeto é responsável por fazer as chamadas das imagens do mapa via GET no servidor do bhMaps,\r\n    // desenhar a div via innerHtml e configurações em geral.\r\n    this.bhMap = new BhMap(this.urlProxy, this.isProduction);\r\n\r\n    // Carrega a concreta com métodos específicos da camada pelo array tiposCamadas (@Input() tiposCamadas).\r\n    // Utiliza a camada principal  do array tiposCamadas para busca de informações no servidor de backend do bhmaps\r\n    // (Ver: AbstractCamada.ts método:  getFeatureDataWFS()).\r\n    this.abstractCamada = this.factoryCamada.recuperaCallbacksCamada(this.tiposCamadas);\r\n\r\n    //   Adiciona configurações dinâmicas do mapa.\r\n    this.carregarCamadas();\r\n    this.adicionaControlePonto();\r\n    this.adicionaPainelSelecaoCamadas();\r\n  }\r\n\r\n  /**\r\n   * Busca o json das camadas do servidor do bhMaps.\r\n   * @param caminhoAPI\r\n   */\r\n  carregarCamadas() {\r\n\r\n    this.tiposCamadas.forEach((tipoCamada: TipoCamada) => {\r\n      this.bhMapService.buscaCamadaBhMap(`${this.bhMap.proxyHost}${this.bhMap.host}${caminhoMetadados}/${tipoCamada.camadaEnum}`).subscribe((layer: any) => {\r\n        this.bhMap.addLayerWMS(layer, tipoCamada.visivel, tipoCamada.opacidade);\r\n        if (tipoCamada.wfs) {\r\n          this.bhMap.camadaPrincipal = layer;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Recupera o tipo de controle do ponto (desenho, trajeto, etc), o default é o desenho do ponto.\r\n   */\r\n\r\n  adicionaControlePonto() {\r\n\r\n    this.bhMap.tipoControlePonto = this.factoryCamada.tipoCamadaPrincipal.tipoControlePontoEnum;\r\n\r\n    this.draw = new Draw({\r\n      source: this.bhMap.source,\r\n      type: this.bhMap.tipoControlePonto\r\n    });\r\n\r\n    const bhMapComponentInstance = this;\r\n\r\n    this.bhMap.source.on('addfeature', function (evt: any) {\r\n      bhMapComponentInstance.abstractCamada.featureAdded(bhMapComponentInstance, evt);\r\n    });\r\n\r\n    this.bhMap.map.addInteraction(this.draw);\r\n  }\r\n\r\n  /**\r\n   *  Quando for informado o Input painelSelecaoCamadas carrega por default as camadas do Input tiposCamadas no componente painel-selecao-camadas.component.ts.\r\n   *   Também permite adicionar mais camadas ou subcamadas de acordo com a configuração da camadaPrincipal.\r\n   */\r\n\r\n  adicionaPainelSelecaoCamadas() {\r\n\r\n    if (this.painelSelecaoCamadas) {\r\n      this.tiposCamadasSelecaoUsuario = this.abstractCamada.recuperaListaCamadasParaSelecao(this.tiposCamadas);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Método de zoom in do mapa.\r\n   */\r\n\r\n  zoomIn(): boolean {\r\n    const view = this.bhMap.map.getView();\r\n    const zoom = view.getZoom();\r\n    view.setZoom(zoom + 1);\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   *  Método de zoom out do mapa.\r\n   */\r\n\r\n  zoomOut(): boolean {\r\n    const view = this.bhMap.map.getView();\r\n    const zoom = view.getZoom();\r\n    view.setZoom(zoom - 1);\r\n    return false;\r\n  }\r\n\r\n  removerPontos() {\r\n    this.bhMap.removerPontos();\r\n    this.bhMap.map.removeInteraction(this.draw);\r\n    this.bhMap.map.addInteraction(this.draw);\r\n  }\r\n\r\n  configuraVisibilidade(id: string, selecionado: boolean) {\r\n    const layer = this.bhMap.recuperaCamadaPeloId(id);\r\n    layer.setVisible(selecionado);\r\n  }\r\n\r\n  /**\r\n   * Callback para o painel de seleção de camadas.\r\n   * @param event\r\n   */\r\n\r\n  changeCamada(camadasSelecionadas: Array<TipoCamada>) {\r\n\r\n    if (camadasSelecionadas.length && !this.abstractCamada.configuraVisibilidadeEspecifico(camadasSelecionadas, this.bhMap)) {\r\n      camadasSelecionadas.filter(c => c.habilitado).forEach(c => this.configuraVisibilidade(c.camadaEnum, c.selecionado));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Necessário ser no keypress. keyup.enter é tarde demais para evitar a propagação do método (preventDefault() não funciona)\r\n   * @param event\r\n   */\r\n\r\n  keypressLogradouro(event: KeyboardEvent): boolean {\r\n    if (event.keyCode === 13) {\r\n      return this.buscaLogradouro();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   *  Busca pelo logradouro e número.\r\n   */\r\n\r\n  buscaLogradouro(): boolean {\r\n\r\n    this.enderecos = null;\r\n\r\n    this.geocoderService.recuperaEnderecosPorLogradouro(this.nomeLogradouro, this.numeroLogradouro, this.isProduction).subscribe(resposta => {\r\n      if (resposta.status !== 'ok') {\r\n        alert('Ocorreu um erro na resposta da pesquisa de endereço, tente novamente mais tarde.');\r\n      } else if (resposta.endereco.length === 0) {\r\n        if (this.msgErroEndereco) {\r\n          alert(this.msgErroEndereco);\r\n        } else {\r\n          alert('Endereço não encontrado.');\r\n        }\r\n      } else if (resposta.endereco.length === 1) {\r\n\r\n        const endereco = resposta.endereco[0];\r\n\r\n        if (!endereco.id) {\r\n          if (this.msgErroEndereco) {\r\n            alert(this.msgErroEndereco);\r\n          } else {\r\n            alert('Endereço não encontrado.');\r\n          }\r\n          return false;\r\n        }\r\n        this.zoomEndereco(endereco);\r\n\r\n      } else {\r\n        this.enderecos = resposta.endereco;\r\n      }\r\n    }, (resposta => {\r\n      alert('Ocorreu um erro ao buscar o logradouro. Tente novamente mais tarde.');\r\n      console.error(resposta.error.detalhes);\r\n    }));\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   *  Limpa o grid de endereços.\r\n   */\r\n\r\n  limparEnderecos(): boolean {\r\n    this.enderecos = null;\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Faz a pesquisa no geocoder pelo o endereço parametrizado e utiliza o openlayers para o zoom do mapa.\r\n   * @param endereco\r\n   */\r\n  zoomEndereco(endereco: any) {\r\n    this.enderecos = null;\r\n    this.geocoderService.zoomEndereco(endereco, this.bhMap);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n}\r\n",
    "\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { filtroEndereco, getUrlGeocoder } from '../helpers/utils';\r\nimport { BhMap } from '../models/bhMap';\r\n\r\n@Injectable()\r\nexport class GeocoderService {\r\n\r\n    constructor(private httpClient: HttpClient) {\r\n    }\r\n\r\n    recuperaEnderecoPorGeometria(longitude: string, latitude: string, isProduction: boolean) {\r\n        const pontoWKT = `POINT(${longitude}  ${latitude})`;\r\n        return this.httpClient.get(`${getUrlGeocoder(isProduction)}geocoder/v2/coordinate?ponto=${pontoWKT}`);\r\n    }\r\n\r\n    recuperaEnderecosPorLogradouro(nomeLogradouro: string, numero: number, isProduction: boolean): Observable<any> {\r\n\r\n        if (!nomeLogradouro) {\r\n            alert('É obrigatório informar o nome do logradouro.');\r\n            return;\r\n        }\r\n\r\n        const newEndereco = nomeLogradouro.toLowerCase().replace(filtroEndereco, '');\r\n        nomeLogradouro = newEndereco.toUpperCase().trim();\r\n\r\n        let params = `?logradouro=${nomeLogradouro}`;\r\n        if (numero) {\r\n            params += `&numero=${numero}`;\r\n        }\r\n\r\n        return this.httpClient.get(`${getUrlGeocoder(isProduction)}geocoder/v2/address${params}`);\r\n    }\r\n    zoomEndereco(endereco: any, bhMap: BhMap) {\r\n        const latitudeLongitude = this.getPonto(endereco);\r\n        bhMap.centerMap([latitudeLongitude[0], latitudeLongitude[1]]);\r\n    }\r\n    getPonto(endereco: any): Array<any> {\r\n        const cordenadas = endereco.wkt;\r\n        const busca = 'POINT(';\r\n        const ini = cordenadas.indexOf(busca) + busca.length;\r\n        const fim = cordenadas.indexOf(')', ini);\r\n        const lonLat: Array<any> = cordenadas.substr(ini, fim - ini).split(' ');\r\n        return lonLat;\r\n    }\r\n\r\n}\r\n",
    "import { TipoCamada } from '../../models/tipoCamada';\r\nimport { AbstractCamada } from './abstract-camada';\r\nimport { CamadasEnum } from '../../enums/camadasEnum';\r\nimport { CamadaAreaTrechoLogradouro } from '../../helpers/camadas/camada-area-trecho-logradouro';\r\nimport { CamadaEndereco } from '../../helpers/camadas/camada-endereco';\r\nimport { CamadaLogradouro } from '../../helpers/camadas/camada-logradouro';\r\nimport { CamadaDefault } from '../../helpers/camadas/camada-default';\r\nimport { CamadaParque } from '../../helpers/camadas/camada-parque';\r\n\r\n\r\n\r\nexport class FactoryCamada {\r\n\r\n\r\n    tipoCamadaPrincipal: TipoCamada;\r\n\r\n\r\n    /**\r\n    *  Método que recupera a classe de callback da camada de acordo com a propriedade camadaPrincipal informada na\r\n    *  classe TipoCamada.ts. A classe de callback é utilizada para chamadas no servidor backend do bhmaps  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n    *  e adição de comportamentos específicos após a adição de features no mapa.\r\n    * @param tiposCamadas\r\n    */\r\n    recuperaCallbacksCamada(tiposCamadas: Array<TipoCamada>): AbstractCamada {\r\n\r\n        this.tipoCamadaPrincipal = tiposCamadas.filter(tipoCamada => tipoCamada.camadaEnum)[0];\r\n\r\n        switch (this.tipoCamadaPrincipal.camadaEnum) {\r\n            case CamadasEnum.Endereco:\r\n                return new CamadaEndereco();\r\n            case CamadasEnum.Logradouro:\r\n                return new CamadaLogradouro();\r\n            case CamadasEnum.Parque:\r\n                return new CamadaParque();\r\n            case CamadasEnum.AreaTrechoLogradouro:\r\n                return new CamadaAreaTrechoLogradouro();\r\n            default:\r\n                return new CamadaDefault();\r\n        }\r\n    }\r\n\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\nexport class CamadaParque extends AbstractCamada {\r\n\r\n\r\n     /**\r\n     *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n     *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n     * @param objetoArr\r\n     * @param bhMap\r\n     * @param angularEventEmitter\r\n     * @param ponto\r\n     */\r\n    executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n        const bhMap =  bhMapComponentInstance.bhMap;\r\n\r\n        if (!objetoArr || objetoArr.length === 0) {\r\n            alert('Parque não encontrado.');\r\n            bhMap.removerPontos();\r\n        } else {\r\n            const parque = objetoArr[0].data;\r\n\r\n            if (confirm(`Confirma a seleção do parque: \"${parque.NOME}\" ?`)) {\r\n                bhMapComponentInstance.emitter.emit({ objetosRetorno: [{ parque: parque, ponto: ponto }] });\r\n            } else {\r\n                bhMap.removerPontos();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n     *  Possui as coordenadas da feature adicionada.\r\n     * @param bhMapComponentInstance\r\n     * @param ponto\r\n     */\r\n    featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n    }\r\n\r\n}",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Implementação para camadas que não exigem nenhum tipo de tratamento de negócio, apenas emitem o resultado da chamada wfs.\r\n */\r\n\r\nexport class CamadaDefault extends AbstractCamada {\r\n\r\n    /**\r\n     *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n     *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n     * @param objetoArr\r\n     * @param bhMapComponentInstance\r\n     * @param ponto\r\n     */\r\n    executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        if (objetoArr.length > 0) {\r\n            const objetosRetorno = objetoArr.map((obj: any) => {\r\n                return { objRetorno: obj, ponto: ponto };\r\n            });\r\n            bhMapComponentInstance.emitter.emit({ objetosRetorno: objetosRetorno });\r\n        } else {\r\n            alert('Ponto não encontrado');\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n      *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n      *  Possui as coordenadas da feature adicionada.\r\n      * @param bhMapComponentInstance\r\n      * @param ponto\r\n    */\r\n\r\n    featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n    }\r\n\r\n}\r\n",
    "import { EventEmitter } from '@angular/core';\r\nimport { BhMapComponent } from '../../bhmap.component';\r\nimport { TipoControlePontoEnum } from '../../enums/tipoControlePontoEnum';\r\nimport { distinctArrayByProperty } from '../../helpers/utils';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { ObjetoOutputMapa } from '../../models/objetoOutputMapa';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de eventos.\r\n */\r\n\r\nexport class CamadaLogradouro extends AbstractCamada {\r\n\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n    const bhMap = bhMapComponentInstance.bhMap;\r\n    const isPonto = bhMap.tipoControlePonto === TipoControlePontoEnum.ponto;\r\n\r\n    if (objetoArr.length === 0) {\r\n      alert('Logradouro não encontrado');\r\n      isPonto ? bhMap.removeUltimoPonto() : bhMap.removerPontos();\r\n    } else if (objetoArr.length > 10) {\r\n      alert('Seleção de trajeto inválida, aproxime mais o mapa para escolha do trajeto');\r\n      bhMap.removerPontos();\r\n    } else {\r\n      // Funções que evitam que um logradouro com o mesmo id seja retornado.\r\n      const logradourosDistintos = distinctArrayByProperty(objetoArr, 'ID_LOGRADOURO');\r\n      const arrayConcat = logradourosDistintos.concat(bhMap.objetosDistintos);\r\n      bhMap.objetosDistintos = distinctArrayByProperty(arrayConcat, 'ID_LOGRADOURO');\r\n\r\n      // Regras para trajetos.\r\n      if ((bhMap.posicaoPonto === bhMap.numeroTotalPontos) || isPonto) {\r\n\r\n        const arrayOrdenado = bhMap.objetosDistintos.reverse();\r\n\r\n        const msg = arrayOrdenado.map(logradouro => `\"${logradouro.TIPO_LOGRADOURO} ${logradouro.NOME_LOGRADOURO}\"`).join().trim();\r\n\r\n        if (confirm(`Confirma a seleção dos logradouros:\\n ${msg}`)) {\r\n          bhMapComponentInstance.emitter.emit({ objetosRetorno: arrayOrdenado });\r\n        } else {\r\n          bhMap.removerPontos();\r\n        }\r\n\r\n      } else {\r\n        bhMap.posicaoPonto++;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n    super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n  }\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { formataEndereco } from '../../helpers/utils';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de eventos.\r\n */\r\n\r\nexport class CamadaEndereco extends AbstractCamada {\r\n\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * \r\n   */\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent): void {\r\n  }\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n\r\n\r\n    const coordenadas = ponto.feature.getGeometry().getCoordinates();\r\n    bhMapComponentInstance.bhMap.ultimoPontoAdicionado = ponto;\r\n\r\n    bhMapComponentInstance.geocoderService.recuperaEnderecoPorGeometria(coordenadas[0], coordenadas[1], bhMapComponentInstance.isProduction).subscribe((resposta: any) => {\r\n\r\n      const endereco = resposta.endereco[0];\r\n\r\n      if (!endereco.id) {\r\n        alert('Não foi encontrado um endereço para o ponto selecionado!');\r\n        bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n        return;\r\n      }\r\n\r\n      const enderecoFormatado = formataEndereco(endereco);\r\n      if (confirm(`Confirma a seleção do endereço: \"${enderecoFormatado}\" ?`)) {\r\n        bhMapComponentInstance.emitter.emit({ objetosRetorno: [endereco] });\r\n      } else {\r\n        bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n      }\r\n\r\n    }, (resposta => {\r\n      bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n      alert('Ocorreu um erro ao recupera o endereço. Tente novamente mais tarde.');\r\n      console.error(resposta.error.detalhes);\r\n    }));\r\n  }\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { CamadasEnum } from '../../enums/camadasEnum';\r\nimport { idAreaTrechoLogradouro } from '../../helpers/utils';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { ObjetoOutputMapa } from '../../models/objetoOutputMapa';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de obras em logradouros.\r\n */\r\n\r\nexport class CamadaAreaTrechoLogradouro extends AbstractCamada {\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n    super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n  }\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n    const bhMap = bhMapComponentInstance.bhMap;\r\n\r\n    // Evita o desenho do ponto caso o usuario clique fora de uma area\r\n    if (objetoArr.length === 0 && bhMap.ultimoPontoAdicionado) {\r\n      bhMap.removeUltimoPonto();\r\n      return;\r\n    }\r\n\r\n    objetoArr.forEach((objetoRetorno: any) => {\r\n\r\n      const id = objetoRetorno[idAreaTrechoLogradouro];\r\n\r\n      // Evita que mais de um ponto seja adicionado em uma mesma area\r\n      if (bhMap.idsJaAdicionados && bhMap.idsJaAdicionados.find((idJaAdicionado: any) => idJaAdicionado.id === objetoRetorno[idAreaTrechoLogradouro])) {\r\n        bhMap.removeUltimoPonto();\r\n        return;\r\n      }\r\n\r\n      // Adiciona o id para futuro retorno via @Output\r\n      bhMap.idsJaAdicionados.push({ id: id, ponto: bhMap.ultimoPontoAdicionado, geometry: objetoRetorno.geometry });\r\n\r\n      const objetoOutputMapa = new ObjetoOutputMapa();\r\n      objetoOutputMapa.objetosRetorno = [{id: id, ponto: ponto}];\r\n      bhMapComponentInstance.emitter.emit(objetoOutputMapa);\r\n\r\n    });\r\n  }\r\n\r\n  configuraVisibilidadeEspecifico(camadasSelecionadas: Array<TipoCamada>, bhMap: BhMap): boolean {\r\n\r\n    const layer = bhMap.recuperaCamadaPeloId(CamadasEnum.ObraLogradouro);\r\n    const resultado = camadasSelecionadas.filter(c => c.habilitado && c.selecionado).map(c => `COD_PROFUNDIDADE=${c.id}`).join(' OR ');\r\n\r\n    if (resultado.length > 0) {\r\n      layer.setVisible(true);\r\n      layer.getSource().updateParams({ 'CQL_FILTER': resultado });\r\n    } else {\r\n      layer.setVisible(false);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  recuperaListaCamadasParaSelecao(tiposCamadas: Array<TipoCamada>): Array<TipoCamada> {\r\n    const array = new Array<TipoCamada>().concat(tiposCamadas);\r\n\r\n    // Carrega subcamadas da camada de obras / area trecho logradouro.\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 2, descricao: 'Obras 1 a 2 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 3, descricao: 'Obras 2 a 3 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 4, descricao: 'Obras 3 a 4 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 5, descricao: 'Obras acima de 4 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 6, descricao: 'Obras aéreas' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 7, descricao: 'Obras sobre a superfície' }));\r\n    return array;\r\n  }\r\n\r\n}\r\n",
    "import GeoJSON from 'ol/format/GeoJSON';\r\nimport { BhMapComponent } from '../../bhmap.component';\r\nimport { TipoControlePontoEnum } from '../../enums/tipoControlePontoEnum';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\n\r\n\r\n/**\r\n*  Definição do contrato a ser implementado para cada tipo de camada. Essa classe abstrata é uma extensão do componente BhMapComponent para tratar\r\n*  comportamentos específicos das camadas do BhMaps. CamadasEnum.ts\r\n*  @author breno.mcosta\r\n*/\r\n\r\nexport abstract class AbstractCamada {\r\n\r\n   /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  abstract executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void;\r\n\r\n  /**\r\n   *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n   *  Possui as coordenadas da feature adicionada.\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n  abstract featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void;\r\n\r\n   /**\r\n   *  Por default retorna as mesmas camadas.\r\n   */\r\n  recuperaListaCamadasParaSelecao(tiposCamadas: Array<TipoCamada>): Array<TipoCamada> {\r\n    return tiposCamadas;\r\n  }\r\n\r\n /**\r\n   * Para mapas com visibilidades específicas.\r\n   * @param camadasSelecionadas\r\n   * @param bhMap\r\n   */\r\n  configuraVisibilidadeEspecifico(camadasSelecionadas: Array<TipoCamada>, bhMap: BhMap): boolean {\r\n    return false;\r\n  }\r\n\r\n  /**\r\n  * Método que configura o ponto para obter um json de informações da camada corrente via requisição HTTP\r\n  * no servidor do bhmaps.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n  featureAddedWFS(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n\r\n    bhMapComponentInstance.bhMap.ultimoPontoAdicionado = ponto;\r\n    const coordenadas = ponto.feature.getGeometry().getCoordinates();\r\n\r\n    if (bhMapComponentInstance.bhMap.tipoControlePonto === TipoControlePontoEnum.ponto) {\r\n      this.getFeatureDataWFS(bhMapComponentInstance, coordenadas);\r\n    } else {\r\n      bhMapComponentInstance.bhMap.numeroTotalPontos = coordenadas.length;\r\n      bhMapComponentInstance.bhMap.posicaoPonto = 1;\r\n\r\n      coordenadas.forEach((coordenada: any) => {\r\n        this.getFeatureDataWFS(bhMapComponentInstance, coordenada);\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Recupera a feature pela coordenada.\r\n   * @param bhMapComponentInstance\r\n   * @param coordenadas\r\n   */\r\n\r\n  private getFeatureDataWFS(bhMapComponentInstance: BhMapComponent, coordenadas: [number, number]) {\r\n    bhMapComponentInstance.bhMapService.getFeatureDataWFS(coordenadas, bhMapComponentInstance.bhMap).subscribe((json: any) => {\r\n      const features = new GeoJSON().readFeatures(json);\r\n      const results = features ? features.map((feature: any) => Object.assign({}, feature.values_)) : [];\r\n      this.executaCallback(results, bhMapComponentInstance, bhMapComponentInstance.emitter);\r\n    });\r\n  }\r\n\r\n}\r\n",
    "import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { epsg, concatInQueryParams } from '../helpers/utils';\r\nimport { BhMap } from '../models/bhMap';\r\n\r\n@Injectable()\r\nexport class BhMapService {\r\n\r\n    constructor(protected httpClient: HttpClient) { }\r\n\r\n    buscaCamadaBhMap(caminho: string): Observable<any> {\r\n        return this.httpClient.get(caminho);\r\n    }\r\n\r\n    /**\r\n     * Busca no servidor do BhMaps um json com informações da camada.\r\n     * Este método também transforma a coordenada original em pixel para adicionar limites (superior / inferior) baseados em um raio e converte novamente\r\n     * o pixel para as coordenadas inferior e superior, possibilitando uma pesquisa mais precisa.\r\n     * @param coordenadas\r\n     * @param bhMap\r\n     */\r\n    getFeatureDataWFS(coordenadas: [number, number], bhMap: BhMap): Observable<any> {\r\n\r\n        const camadaPrincipal = bhMap.camadaPrincipal;\r\n\r\n        // Para adicionar o raio de pesquisa é necessário obter o pixel pela coordenada: Longitude / Latitude.\r\n        const pixel = bhMap.map.getPixelFromCoordinate(coordenadas);\r\n        const objetoPontoGeometria = { x: pixel[0], y: pixel[1] };\r\n\r\n        let raioBusca = 1;\r\n\r\n        // Utiliza o raio padrão da camada se informado.\r\n        if (camadaPrincipal.servicos.wfs.raiobusca) {\r\n            raioBusca = camadaPrincipal.servicos.wfs.raiobusca;\r\n        }\r\n\r\n        // Faz um clone do pixel original e adiciona / diminui o raio.\r\n        const lowerPixel = Object.assign({}, objetoPontoGeometria);\r\n\r\n        lowerPixel.x -= raioBusca;\r\n        lowerPixel.y += raioBusca;\r\n\r\n         // Obtém a coordenada inferior para ser utilizada como filtro na chamada do backend\r\n        const lowerCoordinates = bhMap.map.getCoordinateFromPixel([lowerPixel.x, lowerPixel.y]);\r\n\r\n        // Faz um clone do pixel original e adiciona / diminui o raio.\r\n        const upperPixel = Object.assign({}, objetoPontoGeometria);\r\n\r\n        upperPixel.x += raioBusca;\r\n        upperPixel.y -= raioBusca;\r\n\r\n         // Obtém a coordenada superior para ser utilizada como filtro na chamada do backend\r\n        const upperCoordinates = bhMap.map.getCoordinateFromPixel([upperPixel.x, upperPixel.y]);\r\n\r\n        // Faz a chamada no backend utilizando os filtros.\r\n        return this.httpClient.get(`${bhMap.proxyHost}${camadaPrincipal.servicos.wfs.url}?${this.getQueryParams(camadaPrincipal, lowerCoordinates, upperCoordinates)}`);\r\n    }\r\n\r\n    /**\r\n     * Transforma um objeto de filtro em uma string.\r\n     * @param camadaPrincipal\r\n     * @param lowerCoordinates\r\n     * @param upperCoordinates\r\n     */\r\n\r\n    private getQueryParams(camadaPrincipal: any, lowerCoordinates: Array<number>, upperCoordinates: Array<number>): string {\r\n        const queryFilterObject = {\r\n            SERVICE: 'WFS',\r\n            REQUEST: 'GetFeature',\r\n            VERSION: '1.1.0',\r\n            TYPENAME: camadaPrincipal.servicos.wfs.workspace + ':' + camadaPrincipal.servicos.wfs.typename,\r\n            OUTPUTFORMAT: 'json',\r\n            FILTER: '<Filter xmlns=\"http://www.opengis.net/ogc\" xmlns:gml=\"http://www.opengis.net/gml\"><Intersects><PropertyName>' + camadaPrincipal.servicos.wfs.geom + '</PropertyName><gml:Envelope srsName=\"' + epsg + '\">' +\r\n                '<gml:lowerCorner>' + lowerCoordinates[0] + ' ' + lowerCoordinates[1] + '</gml:lowerCorner>' +\r\n                ' <gml:upperCorner>' + upperCoordinates[0] + ' ' + upperCoordinates[1] + '</gml:upperCorner>' +\r\n                '</gml:Envelope></Intersects></Filter>'\r\n        };\r\n\r\n        return concatInQueryParams(queryFilterObject);\r\n    }\r\n\r\n\r\n     /**\r\n     * Recupera um json com a geometria\r\n     * @param typeName\r\n     * @param cqlFilterGeometria\r\n     */\r\n\r\n    getFeature(typeName: string, cqlFilterGeometria: string, proxyHost: string, urlBhMap: string): Observable<any> {\r\n\r\n        const parametros = {\r\n            version: '2.0',\r\n            request: 'GetFeature',\r\n            typeName: typeName,\r\n            outputFormat: 'application/json',\r\n            CQL_FILTER: `${cqlFilterGeometria}`\r\n\r\n        };\r\n\r\n        return this.httpClient.get(`${proxyHost}${urlBhMap}v2/api/wfs?${concatInQueryParams(parametros)}`);\r\n    }\r\n\r\n}\r\n",
    "/*\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport Layer from 'ol/layer/Layer';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Map from 'ol/Map';\r\n\r\nimport VectorSource from 'ol/source/Vector';\r\n\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport View from 'ol/View';\r\nimport * as proj4x from 'proj4'; */\r\n\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Map from 'ol/Map';\r\nimport TileWMS from 'ol/source/TileWMS';\r\nimport { register } from 'ol/proj/proj4';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport View from 'ol/View';\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport * as proj4x from 'proj4';\r\nimport { TipoControlePontoEnum } from '../enums/tipoControlePontoEnum';\r\nimport { epsg, getUrlBhMap, getUrlCamadas } from '../helpers/utils';\r\n\r\n/**\r\n *  Representa o modelo do bhmap.js\r\n */\r\nexport class BhMap {\r\n\r\n    proxyHost: string;\r\n    host: string;\r\n    urlCamadas: string;\r\n\r\n\r\n    // Varíaveis de controle de ponto.\r\n    ultimoPontoAdicionado: any;\r\n    idsJaAdicionados = [];\r\n    objetosDistintos = [];\r\n    tipoControlePonto: TipoControlePontoEnum;\r\n    numeroTotalPontos: number;\r\n    posicaoPonto: number;\r\n\r\n    // Novo\r\n    map: Map;\r\n    source: VectorSource;\r\n    camadaPrincipal: any;\r\n    private resolucoesMapa: Array<number>;\r\n    private extent: [number, number, number, number];\r\n    private layers: Array<any> = new Array<any>();\r\n    private tileGrid: TileGrid;\r\n\r\n\r\n    constructor(urlProxy: string, isProduction: boolean) {\r\n        this.proxyHost = urlProxy;\r\n        this.host = getUrlBhMap(isProduction);\r\n        this.urlCamadas = getUrlCamadas(isProduction);\r\n        this.configMap();\r\n    }\r\n\r\n    /**\r\n     *  Open layers vem por default com a projeção: World Geodetic System 1984, EPSG:4326\r\n     *  Por esse motivo é necessário sobrescrever com a projeção utilizada pelo BHMaps da prodabel.\r\n     */\r\n\r\n    private configuraProjecao() {\r\n        const proj4 = (proj4x as any).default;\r\n        proj4.defs(epsg, '+proj=utm +zone=23 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs');\r\n        proj4.defs('WGS84', '+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees');\r\n        register(proj4);\r\n\r\n        //prj.setProj4();\r\n        // register(proj4);\r\n       // const proj = (projx as any);\r\n       // projx.setProj4(proj4);\r\n      //\r\n    }\r\n\r\n\r\n    /**\r\n     *  Configura o mapa com o objeto camada utilizando o utilitário do OpenLayers.\r\n     */\r\n\r\n    private configMap() {\r\n\r\n        this.configuraProjecao();\r\n\r\n        this.resolucoesMapa = [55.99999999999999, 27.999999999999996, 13.999999999999998, 6.999999999999999, 2.8, 1.4, 0.5599999999999999, 0.27999999999999997];\r\n        this.extent = [167058.56998217307, 6289251.342124983, 832941.430017827, 10567813.561305761];\r\n\r\n        this.tileGrid = new TileGrid({\r\n            extent: this.extent,\r\n            resolutions: this.resolucoesMapa,\r\n            tileSize: [256, 256]\r\n        });\r\n\r\n        this.addBaseLayerWMS();\r\n\r\n        this.source = new VectorSource({ wrapX: false });\r\n\r\n        this.layers.push(new VectorLayer({ source: this.source }));\r\n\r\n        this.createMap();\r\n    }\r\n\r\n    private addBaseLayerWMS() {\r\n        this.layers.push(\r\n            new TileLayer({\r\n                extent: this.extent,\r\n                source: new TileWMS({\r\n                    url: this.urlCamadas + 'wms',\r\n                    params: {\r\n                        'LAYERS': 'pbh_sirgas:S2000_BHBASE',\r\n                        'TILED': true,\r\n                        'GRIDSET': epsg,\r\n                        'SRS': epsg,\r\n                        'FORMAT': 'image/png'\r\n                    },\r\n                    tileGrid: this.tileGrid,\r\n                }),\r\n                opacity: 1,\r\n            }));\r\n    }\r\n\r\n    addLayerWMS(layer: any, visivel: boolean, opacidade: number) {\r\n\r\n          this.map.addLayer(new TileLayer({\r\n              extent: this.extent,\r\n              source: new TileWMS({\r\n                  url: this.urlCamadas + 'wms',\r\n                  params: {\r\n                      'LAYERS': layer.servicos.wms.name,\r\n                      'TILED': true,\r\n                      'GRIDSET': epsg,\r\n                      'SRS': epsg,\r\n                      'FORMAT': 'image/png'\r\n                  },\r\n                  tileGrid: this.tileGrid,\r\n              }),\r\n              opacity: opacidade,\r\n             // id: layer.id,\r\n             zIndex: layer.id,\r\n             visible: visivel\r\n          }));\r\n      }\r\n\r\n    private createMap() {\r\n        this.map = new Map({\r\n            layers: this.layers,\r\n            target: 'map',\r\n            loadTilesWhileAnimating: false,\r\n            loadTilesWhileInteracting: true,\r\n            view: new View({\r\n                center: [610398.62222215, 7796727.1334951],\r\n                zoom: 0,\r\n                projection: epsg,\r\n                resolutions: this.resolucoesMapa,\r\n                extent: this.extent\r\n            })\r\n        });\r\n    }\r\n\r\n    centerMap(cordenadas: [number, number]) {\r\n        this.map.getView().setCenter(cordenadas);\r\n        this.map.getView().setZoom(8);\r\n    }\r\n\r\n    recuperaCamadaPeloId(caminho: string): any {\r\n        let l = null;\r\n        this.map.getLayers().forEach((layer: TileLayer) => {\r\n            if (caminho === layer.get('zIndex')) {\r\n                l = layer;\r\n            }\r\n        });\r\n\r\n        return l;\r\n    }\r\n\r\n    removeUltimoPonto() {\r\n        if (this.ultimoPontoAdicionado) {\r\n            this.source.removeFeature(this.ultimoPontoAdicionado.feature);\r\n            this.ultimoPontoAdicionado = null;\r\n        }\r\n    }\r\n\r\n    removerPontos() {\r\n        this.idsJaAdicionados = [];\r\n        this.source.clear();\r\n    }\r\n\r\n}\r\n\r\n",
    "export const filtroEndereco = /rua\\s+|avenida\\s+|praca\\s+|praça\\s+|ave\\s+|av.\\s+|ave.\\s+/gi;\r\n\r\nexport const idAreaTrechoLogradouro = 'ID_AREA_TRECHO_LOGRADOURO';\r\n\r\nexport const caminhoMetadados = 'v2/api/metacamada';\r\n\r\nexport const epsg = 'EPSG:31983';\r\n\r\nexport function formataEndereco(endereco: any) {\r\n    return `${endereco.tipologradouro} ${endereco.nomelogradouro} , Nº ${endereco.numero}`;\r\n}\r\n\r\nexport function concatInQueryParams(queryFilterObject: any) {\r\n    return Object.keys(queryFilterObject).map((key) => `${key}=${queryFilterObject[key]}`).join('&');\r\n}\r\n\r\nexport function getUrlBhMap(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://bhmap.pbh.gov.br/';\r\n    }\r\n\r\n    return 'http://bhmap-hm.pbh.gov.br/';\r\n}\r\n\r\nexport function getUrlCamadas(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://bhmapogcbase.pbh.gov.br/bhmapogcbase/';\r\n    }\r\n\r\n    return 'http://bhmapogcbase-hm.pbh.gov.br/bhmapogcbase/';\r\n}\r\n\r\n\r\nexport function getUrlGeocoder(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://geocoder.pbh.gov.br/';\r\n    }\r\n\r\n    return 'http://geocoder-hm.pbh.gov.br/';\r\n\r\n}\r\n\r\nexport function distinctArrayByProperties(array: any, prop: any, prop2: any) {\r\n\r\n    return array.reduce((currentArray: Array<any>, item: any) => {\r\n       if (!currentArray.find(currentItem => currentItem[prop2] === item[prop][prop2])) {\r\n            currentArray.push(item[prop]);\r\n        }\r\n        return currentArray;\r\n    }, []);\r\n}\r\n\r\nexport function distinctArrayByProperty(array: any, prop: any) {\r\n\r\n    return array.reduce((currentArray: Array<any>, item: any) => {\r\n        if (!currentArray.find(currentItem => currentItem[prop] === item[prop])) {\r\n             currentArray.push(item);\r\n         }\r\n        return currentArray;\r\n      }, []);\r\n}\r\n\r\nexport function calculaAreaImagemPorGeometrias(geometrias: any, buffer: number) {\r\n\r\n    const layers = new window['nomeObjetoOpenLayers'].Geometry.Collection();\r\n\r\n    geometrias.forEach((geometria: any) => {\r\n        layers.addComponent(geometria.geometry);\r\n    });\r\n\r\n    layers.calculateBounds();\r\n\r\n    // pega o bounding box do conjunto\r\n    const oldBB = layers.getBounds();\r\n\r\n    // faz um buffer ao redor da area\r\n    const newBB = new window['nomeObjetoOpenLayers'].Bounds(oldBB.left - buffer, oldBB.bottom - buffer, oldBB.right + buffer, oldBB.top + buffer);\r\n    return newBB;\r\n}\r\n\r\n",
    "import { CamadasEnum } from '../enums/camadasEnum';\r\nimport { TipoControlePontoEnum } from '../enums/tipoControlePontoEnum';\r\n\r\n/**\r\n *  Objeto de configuração de camadas.\r\n */\r\n\r\nexport class TipoCamada {\r\n\r\n    // Enum que contém o caminho / id de recuperação da camada no servidor de backend do bhmaps.\r\n    camadaEnum: CamadasEnum;\r\n\r\n    // Um booleano que define se é a camada irá buscar informações no geoserver (feature wfs). O valor default é true.\r\n    wfs?: boolean;\r\n\r\n    // O tipo de controle da camada, disponível em TipoControlePontoEnum.ts (ponto, poligono, trajeto, box). O valor default é ponto.\r\n    tipoControlePontoEnum?: TipoControlePontoEnum;\r\n\r\n    // Se a camada é vísivel ou não. O valor default é true\r\n    visivel?: boolean;\r\n\r\n    // Opacidade da camada. O valor default é 0.5\r\n    opacidade?: number;\r\n\r\n    // Propriedades que devem ser preenchidas quando o mapa tiver o painel de seleção de camadas, um painel que exibe um checkbox de camadas.\r\n    // A descrição da camada que irá aparecer no checkbox.\r\n    descricao?: string;\r\n\r\n    // O valor do checkbox selecionado true ou false. O valor default é false.\r\n    selecionado?: boolean;\r\n\r\n    // Se o checkbox da camada irá ficar habilitado, existem camadas que não devem ter sua visibilidade alterada pelo usuário.  O valor default é true.\r\n    habilitado?: boolean;\r\n\r\n    // Id para diferenciação das camadas no momente de alterar a visibilidade.\r\n    id?: number;\r\n\r\n    /**\r\n     * Construtor com valores default.\r\n     * @param params\r\n     */\r\n    constructor(params: TipoCamada = {} as TipoCamada) {\r\n        this.camadaEnum = params.camadaEnum;\r\n        this.wfs = params.wfs === undefined ? true : params.wfs;\r\n        this.tipoControlePontoEnum = params.tipoControlePontoEnum ? params.tipoControlePontoEnum : TipoControlePontoEnum.ponto;\r\n        this.visivel = params.visivel === undefined ? true : params.visivel;\r\n        this.opacidade =  params.opacidade === undefined ? 0.5 : params.opacidade;\r\n        this.descricao = params.descricao;\r\n        this.selecionado = params.selecionado === undefined ? false : params.selecionado;\r\n        this.habilitado = params.habilitado === undefined ? true : params.habilitado;\r\n        this.id = params.id;\r\n    }\r\n}\r\n",
    "export enum TipoControlePontoEnum {\r\n    ponto = 'Point',\r\n    trajeto = 'LineString',\r\n    poligono = 'Polygon',\r\n    circle = 'Circle'\r\n}\r\n",
    "export enum CamadasEnum {\r\n    AreaTrechoLogradouro = 'area_trecho_logradouro',\r\n    ObraLogradouro = 'obra_logradouro',\r\n    Endereco = 'endereco',\r\n    Logradouro = 'trecho_logradouro',\r\n    Parque = 'parque',\r\n    Praca = 'praca',\r\n    PatrimonioCultural = 'a_definir',\r\n}\r\n",
    "export class ObjetoOutputMapa {\r\n    // Geralmente um array de ids ou um array de qualquer outro objeto.\r\n    objetosRetorno: Array<any>;\r\n    urlImagensMapa?: string;\r\n}\r\n"
  ],
  "names": [
    "(/** @type {?} */ (proj4x)).default"
  ],
  "mappings": "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"
}
