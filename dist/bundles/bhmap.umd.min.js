!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("ol/layer/Tile"),require("ol/layer/Vector"),require("ol/Map"),require("ol/source/TileWMS"),require("ol/proj/proj4"),require("ol/source/Vector"),require("ol/View"),require("ol/tilegrid/TileGrid"),require("proj4"),require("@angular/common/http"),require("@angular/core"),require("ol/format/GeoJSON"),require("ng-http-loader/spinkits"),require("ol/interaction/Draw"),require("rxjs/Observable"),require("rxjs/operators"),require("@angular/forms"),require("@angular/common"),require("ng-http-loader/ng-http-loader.module")):"function"==typeof define&&define.amd?define("bhmap",["exports","ol/layer/Tile","ol/layer/Vector","ol/Map","ol/source/TileWMS","ol/proj/proj4","ol/source/Vector","ol/View","ol/tilegrid/TileGrid","proj4","@angular/common/http","@angular/core","ol/format/GeoJSON","ng-http-loader/spinkits","ol/interaction/Draw","rxjs/Observable","rxjs/operators","@angular/forms","@angular/common","ng-http-loader/ng-http-loader.module"],o):o(e.bhmap={},e.TileLayer,e.VectorLayer,e.Map,e.TileWMS,e.proj4,e.VectorSource,e.View,e.TileGrid,e.proj4x__default,e.ng.common.http,e.ng.core,e.GeoJSON,e.spinkits,e.Draw,e.Rx,e.Rx.Observable.prototype,e.ng.forms,e.ng.common,e.ngHttpLoader_module)}(this,function(e,r,o,t,a,n,i,s,p,d,c,u,l,A,m,h,g,b,f,y){"use strict";r=r&&r.hasOwnProperty("default")?r["default"]:r,o=o&&o.hasOwnProperty("default")?o["default"]:o,t=t&&t.hasOwnProperty("default")?t["default"]:t,a=a&&a.hasOwnProperty("default")?a["default"]:a,i=i&&i.hasOwnProperty("default")?i["default"]:i,s=s&&s.hasOwnProperty("default")?s["default"]:s,p=p&&p.hasOwnProperty("default")?p["default"]:p,d=d&&d.hasOwnProperty("default")?d["default"]:d,l=l&&l.hasOwnProperty("default")?l["default"]:l,m=m&&m.hasOwnProperty("default")?m["default"]:m;var v=function(e,o){return(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(e,o)};function x(e,o){function t(){this.constructor=e}v(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}var M=function _(){},P={AreaTrechoLogradouro:"area_trecho_logradouro",ObraLogradouro:"obra_logradouro",Endereco:"endereco",Logradouro:"trecho_logradouro",Parque:"parque",Praca:"praca",PatrimonioCultural:"a_definir"},w={ponto:"Point",trajeto:"LineString",poligono:"Polygon",circle:"Circle"},E=function $(e){void 0===e&&(e={}),this.camadaEnum=e.camadaEnum,this.wfs=e.wfs===undefined||e.wfs,this.tipoControlePontoEnum=e.tipoControlePontoEnum?e.tipoControlePontoEnum:w.ponto,this.visivel=e.visivel===undefined||e.visivel,this.opacidade=e.opacidade===undefined?.5:e.opacidade,this.descricao=e.descricao,this.selecionado=e.selecionado!==undefined&&e.selecionado,this.habilitado=e.habilitado===undefined||e.habilitado,this.id=e.id},C=/rua\s+|avenida\s+|praca\s+|praça\s+|ave\s+|av.\s+|ave.\s+/gi,S="ID_AREA_TRECHO_LOGRADOURO",N="EPSG:31983";function T(o){return Object.keys(o).map(function(e){return e+"="+o[e]}).join("&")}function O(e){return e?"http://bhmap.pbh.gov.br/":"http://bhmap-hm.pbh.gov.br/"}function I(e){return e?"http://bhmapogcbase.pbh.gov.br/bhmapogcbase/":"http://bhmapogcbase-hm.pbh.gov.br/bhmapogcbase/"}function k(e){return e?"http://geocoder.pbh.gov.br/":"http://geocoder-hm.pbh.gov.br/"}function R(e,t){return e.reduce(function(e,o){return e.find(function(e){return e[t]===o[t]})||e.push(o),e},[])}var L=function(){function e(e,o){this.idsJaAdicionados=[],this.objetosDistintos=[],this.layers=new Array,this.proxyHost=e,this.host=O(o),this.urlCamadas=I(o),this.configMap()}return e.prototype.configuraProjecao=function(){var e=d;e.defs(N,"+proj=utm +zone=23 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs"),e.defs("WGS84","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),n.register(e)},e.prototype.configMap=function(){this.configuraProjecao(),this.resolucoesMapa=[55.99999999999999,27.999999999999996,13.999999999999998,6.999999999999999,2.8,1.4,.5599999999999999,.27999999999999997],this.extent=[167058.56998217307,6289251.342124983,832941.430017827,10567813.561305761],this.tileGrid=new p({extent:this.extent,resolutions:this.resolucoesMapa,tileSize:[256,256]}),this.addBaseLayerWMS(),this.source=new i({wrapX:!1}),this.layers.push(new o({source:this.source})),this.createMap()},e.prototype.addBaseLayerWMS=function(){this.layers.push(new r({extent:this.extent,source:new a({url:this.urlCamadas+"wms",params:{LAYERS:"pbh_sirgas:S2000_BHBASE",TILED:!0,GRIDSET:N,SRS:N,FORMAT:"image/png"},tileGrid:this.tileGrid}),opacity:1}))},e.prototype.addLayerWMS=function(e,o,t){this.map.addLayer(new r({extent:this.extent,source:new a({url:this.urlCamadas+"wms",params:{LAYERS:e.servicos.wms.name,TILED:!0,GRIDSET:N,SRS:N,FORMAT:"image/png"},tileGrid:this.tileGrid}),opacity:t,zIndex:e.id,visible:o}))},e.prototype.createMap=function(){this.map=new t({layers:this.layers,target:"map",loadTilesWhileAnimating:!1,loadTilesWhileInteracting:!0,view:new s({center:[610398.62222215,7796727.1334951],zoom:0,projection:N,resolutions:this.resolucoesMapa,extent:this.extent})})},e.prototype.centerMap=function(e){this.map.getView().setCenter(e),this.map.getView().setZoom(8)},e.prototype.recuperaCamadaPeloId=function(o){var t=null;return this.map.getLayers().forEach(function(e){o===e.get("zIndex")&&(t=e)}),t},e.prototype.removeUltimoPonto=function(){this.ultimoPontoAdicionado&&(this.source.removeFeature(this.ultimoPontoAdicionado.feature),this.ultimoPontoAdicionado=null)},e.prototype.removerPontos=function(){this.idsJaAdicionados=[],this.source.clear()},e}(),G=function(){function e(e){this.httpClient=e}return e.prototype.buscaCamadaBhMap=function(e){return this.httpClient.get(e)},e.prototype.getFeatureDataWFS=function(e,o){var t=o.camadaPrincipal,r=o.map.getPixelFromCoordinate(e),a={x:r[0],y:r[1]},n=1;t.servicos.wfs.raiobusca&&(n=t.servicos.wfs.raiobusca);var i=Object.assign({},a);i.x-=n,i.y+=n;var s=o.map.getCoordinateFromPixel([i.x,i.y]),p=Object.assign({},a);p.x+=n,p.y-=n;var d=o.map.getCoordinateFromPixel([p.x,p.y]);return this.httpClient.get(""+o.proxyHost+t.servicos.wfs.url+"?"+this.getQueryParams(t,s,d))},e.prototype.getQueryParams=function(e,o,t){return T({SERVICE:"WFS",REQUEST:"GetFeature",VERSION:"1.1.0",TYPENAME:e.servicos.wfs.workspace+":"+e.servicos.wfs.typename,OUTPUTFORMAT:"json",FILTER:'<Filter xmlns="http://www.opengis.net/ogc" xmlns:gml="http://www.opengis.net/gml"><Intersects><PropertyName>'+e.servicos.wfs.geom+'</PropertyName><gml:Envelope srsName="'+N+'"><gml:lowerCorner>'+o[0]+" "+o[1]+"</gml:lowerCorner> <gml:upperCorner>"+t[0]+" "+t[1]+"</gml:upperCorner></gml:Envelope></Intersects></Filter>"})},e.prototype.getFeature=function(e,o,t,r){var a={version:"2.0",request:"GetFeature",typeName:e,outputFormat:"application/json",CQL_FILTER:""+o};return this.httpClient.get(""+t+r+"v2/api/wfs?"+T(a))},e}();G.decorators=[{type:u.Injectable}],G.ctorParameters=function(){return[{type:c.HttpClient}]};var B=function(){function e(){}return e.prototype.recuperaListaCamadasParaSelecao=function(e){return e},e.prototype.configuraVisibilidadeEspecifico=function(e,o){return!1},e.prototype.featureAddedWFS=function(o,e){var t=this,r=(o.bhMap.ultimoPontoAdicionado=e).feature.getGeometry().getCoordinates();o.bhMap.tipoControlePonto===w.ponto?this.getFeatureDataWFS(o,r):(o.bhMap.numeroTotalPontos=r.length,o.bhMap.posicaoPonto=1,r.forEach(function(e){t.getFeatureDataWFS(o,e)}))},e.prototype.getFeatureDataWFS=function(r,e){var a=this;r.bhMapService.getFeatureDataWFS(e,r.bhMap).subscribe(function(e){var o=(new l).readFeatures(e),t=o?o.map(function(e){return Object.assign({},e.values_)}):[];a.executaCallback(t,r,r.emitter)})},e}(),U=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.featureAdded=function(e,o){t.prototype.featureAddedWFS.call(this,e,o)},e.prototype.executaCallback=function(e,r,a){var n=r.bhMap;0===e.length&&n.ultimoPontoAdicionado?n.removeUltimoPonto():e.forEach(function(o){var e=o[S];if(n.idsJaAdicionados&&n.idsJaAdicionados.find(function(e){return e.id===o[S]}))n.removeUltimoPonto();else{n.idsJaAdicionados.push({id:e,ponto:n.ultimoPontoAdicionado,geometry:o.geometry});var t=new M;t.objetosRetorno=[{id:e,ponto:a}],r.emitter.emit(t)}})},e.prototype.configuraVisibilidadeEspecifico=function(e,o){var t=o.recuperaCamadaPeloId(P.ObraLogradouro),r=e.filter(function(e){return e.habilitado&&e.selecionado}).map(function(e){return"COD_PROFUNDIDADE="+e.id}).join(" OR ");return 0<r.length?(t.setVisible(!0),t.getSource().updateParams({CQL_FILTER:r})):t.setVisible(!1),!0},e.prototype.recuperaListaCamadasParaSelecao=function(e){var o=(new Array).concat(e);return o.push(new E({camadaEnum:P.ObraLogradouro,id:2,descricao:"Obras 1 a 2 metros"})),o.push(new E({camadaEnum:P.ObraLogradouro,id:3,descricao:"Obras 2 a 3 metros"})),o.push(new E({camadaEnum:P.ObraLogradouro,id:4,descricao:"Obras 3 a 4 metros"})),o.push(new E({camadaEnum:P.ObraLogradouro,id:5,descricao:"Obras acima de 4 metros"})),o.push(new E({camadaEnum:P.ObraLogradouro,id:6,descricao:"Obras aéreas"})),o.push(new E({camadaEnum:P.ObraLogradouro,id:7,descricao:"Obras sobre a superfície"})),o},e}(B),D=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return x(o,e),o.prototype.executaCallback=function(e,o){},o.prototype.featureAdded=function(a,e){var o=e.feature.getGeometry().getCoordinates();a.bhMap.ultimoPontoAdicionado=e,a.geocoderService.recuperaEnderecoPorGeometria(o[0],o[1],a.isProduction).subscribe(function(e){var o=e.endereco[0];if(!o.id)return alert("Não foi encontrado um endereço para o ponto selecionado!"),void a.bhMap.removeUltimoPonto();var t=function r(e){return e.tipologradouro+" "+e.nomelogradouro+" , Nº "+e.numero}(o);confirm('Confirma a seleção do endereço: "'+t+'" ?')?a.emitter.emit({objetosRetorno:[o]}):a.bhMap.removeUltimoPonto()},function(e){a.bhMap.removeUltimoPonto(),alert("Ocorreu um erro ao recupera o endereço. Tente novamente mais tarde."),console.error(e.error.detalhes)})},o}(B),V=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.executaCallback=function(e,o,t){var r=o.bhMap,a=r.tipoControlePonto===w.ponto;if(0===e.length)alert("Logradouro não encontrado"),a?r.removeUltimoPonto():r.removerPontos();else if(10<e.length)alert("Seleção de trajeto inválida, aproxime mais o mapa para escolha do trajeto"),r.removerPontos();else{var n=R(e,"ID_LOGRADOURO").concat(r.objetosDistintos);if(r.objetosDistintos=R(n,"ID_LOGRADOURO"),r.posicaoPonto===r.numeroTotalPontos||a){var i=r.objetosDistintos.reverse(),s=i.map(function(e){return'"'+e.TIPO_LOGRADOURO+" "+e.NOME_LOGRADOURO+'"'}).join().trim();confirm("Confirma a seleção dos logradouros:\n "+s)?o.emitter.emit({objetosRetorno:i}):r.removerPontos()}else r.posicaoPonto++}},e.prototype.featureAdded=function(e,o){t.prototype.featureAddedWFS.call(this,e,o)},e}(B),Z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.executaCallback=function(e,o,t){if(0<e.length){var r=e.map(function(e){return{objRetorno:e,ponto:t}});o.emitter.emit({objetosRetorno:r})}else alert("Ponto não encontrado")},e.prototype.featureAdded=function(e,o){t.prototype.featureAddedWFS.call(this,e,o)},e}(B),j=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return x(e,t),e.prototype.executaCallback=function(e,o,t){var r=o.bhMap;if(e&&0!==e.length){var a=e[0].data;confirm('Confirma a seleção do parque: "'+a.NOME+'" ?')?o.emitter.emit({objetosRetorno:[{parque:a,ponto:t}]}):r.removerPontos()}else alert("Parque não encontrado."),r.removerPontos()},e.prototype.featureAdded=function(e,o){t.prototype.featureAddedWFS.call(this,e,o)},e}(B),F=function(){function e(){}return e.prototype.recuperaCallbacksCamada=function(e){switch(this.tipoCamadaPrincipal=e.filter(function(e){return e.camadaEnum})[0],this.tipoCamadaPrincipal.camadaEnum){case P.Endereco:return new D;case P.Logradouro:return new V;case P.Parque:return new j;case P.AreaTrechoLogradouro:return new U;default:return new Z}},e}(),H=function(){function e(e){this.httpClient=e}return e.prototype.recuperaEnderecoPorGeometria=function(e,o,t){var r="POINT("+e+"  "+o+")";return this.httpClient.get(k(t)+"geocoder/v2/coordinate?ponto="+r)},e.prototype.recuperaEnderecosPorLogradouro=function(e,o,t){if(e){var r="?logradouro="+(e=e.toLowerCase().replace(C,"").toUpperCase().trim());return o&&(r+="&numero="+o),this.httpClient.get(k(t)+"geocoder/v2/address"+r)}alert("É obrigatório informar o nome do logradouro.")},e.prototype.zoomEndereco=function(e,o){var t=this.getPonto(e);o.centerMap([t[0],t[1]])},e.prototype.getPonto=function(e){var o=e.wkt,t=o.indexOf("POINT(")+"POINT(".length,r=o.indexOf(")",t);return o.substr(t,r-t).split(" ")},e}();H.decorators=[{type:u.Injectable}],H.ctorParameters=function(){return[{type:c.HttpClient}]};var Y=function(){function e(e,o){this.geocoderService=e,this.bhMapService=o,this.tiposCamadas=[new E({camadaEnum:P.Logradouro,tipoControlePontoEnum:w.trajeto})],this.urlProxy="http://localhost:8080/licenciamento/proxy?server=",this.isProduction=!1,this.emitter=new u.EventEmitter,this.tipoControlePontoEnum=w,this.spinkit=A.Spinkit,this.factoryCamada=new F}return e.prototype.ngOnInit=function(){this.bhMap=new L(this.urlProxy,this.isProduction),this.abstractCamada=this.factoryCamada.recuperaCallbacksCamada(this.tiposCamadas),this.carregarCamadas(),this.adicionaControlePonto(),this.adicionaPainelSelecaoCamadas()},e.prototype.carregarCamadas=function(){var t=this;this.tiposCamadas.forEach(function(o){t.bhMapService.buscaCamadaBhMap(""+t.bhMap.proxyHost+t.bhMap.host+"v2/api/metacamada/"+o.camadaEnum).subscribe(function(e){t.bhMap.addLayerWMS(e,o.visivel,o.opacidade),o.wfs&&(t.bhMap.camadaPrincipal=e)})})},e.prototype.adicionaControlePonto=function(){this.bhMap.tipoControlePonto=this.factoryCamada.tipoCamadaPrincipal.tipoControlePontoEnum,this.draw=new m({source:this.bhMap.source,type:this.bhMap.tipoControlePonto});var o=this;this.bhMap.source.on("addfeature",function(e){o.abstractCamada.featureAdded(o,e)}),this.bhMap.map.addInteraction(this.draw)},e.prototype.adicionaPainelSelecaoCamadas=function(){this.painelSelecaoCamadas&&(this.tiposCamadasSelecaoUsuario=this.abstractCamada.recuperaListaCamadasParaSelecao(this.tiposCamadas))},e.prototype.zoomIn=function(){var e=this.bhMap.map.getView(),o=e.getZoom();return e.setZoom(o+1),!1},e.prototype.zoomOut=function(){var e=this.bhMap.map.getView(),o=e.getZoom();return e.setZoom(o-1),!1},e.prototype.removerPontos=function(){this.bhMap.removerPontos(),this.bhMap.map.removeInteraction(this.draw),this.bhMap.map.addInteraction(this.draw)},e.prototype.configuraVisibilidade=function(e,o){this.bhMap.recuperaCamadaPeloId(e).setVisible(o)},e.prototype.changeCamada=function(e){var o=this;e.length&&!this.abstractCamada.configuraVisibilidadeEspecifico(e,this.bhMap)&&e.filter(function(e){return e.habilitado}).forEach(function(e){return o.configuraVisibilidade(e.camadaEnum,e.selecionado)})},e.prototype.keypressLogradouro=function(e){return 13!==e.keyCode||this.buscaLogradouro()},e.prototype.buscaLogradouro=function(){var t=this;return this.enderecos=null,this.geocoderService.recuperaEnderecosPorLogradouro(this.nomeLogradouro,this.numeroLogradouro,this.isProduction).subscribe(function(e){if("ok"!==e.status)alert("Ocorreu um erro na resposta da pesquisa de endereço, tente novamente mais tarde.");else if(0===e.endereco.length)t.msgErroEndereco?alert(t.msgErroEndereco):alert("Endereço não encontrado.");else if(1===e.endereco.length){var o=e.endereco[0];if(!o.id)return t.msgErroEndereco?alert(t.msgErroEndereco):alert("Endereço não encontrado."),!1;t.zoomEndereco(o)}else t.enderecos=e.endereco},function(e){alert("Ocorreu um erro ao buscar o logradouro. Tente novamente mais tarde."),console.error(e.error.detalhes)}),!1},e.prototype.limparEnderecos=function(){return this.enderecos=null,!1},e.prototype.zoomEndereco=function(e){this.enderecos=null,this.geocoderService.zoomEndereco(e,this.bhMap)},e.prototype.ngOnDestroy=function(){},e}();Y.decorators=[{type:u.Component,args:[{selector:"app-bhmap",styles:[".cabecalho{text-align:center;color:#000;font-weight:700;background-color:#d3d3d3;opacity:.8}.btn{border:1px solid transparent;padding:.375rem .75rem;line-height:1.5;cursor:pointer;opacity:.7}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-danger{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-lograd{cursor:pointer;border:none;opacity:.7}.btn-lupa{background:url(data:image/gif;base64,R0lGODlhFAAUAPcAAP////7+/vz///39/fb///n///L///z8/Pv7++////r6+vn5+fj4+OL//+H//+D///f3993//9r//9v//9X//9n//9f//9j//9X+//X19dL//9D///T09PPz887+/9H7/8j8//Hx8fDw8O/v78r4/8j4/+7u7s73/+3t7cv2/+zs7NLy/+vr6+rq6unp6cTz/8Xv/+fn5+bm5sHu/+Xl5ePj4+Pi4uLi4sDp/+Hh4eDg4N/f38Lk+97e3t3d3dzc3Lri/Nvb28rg6cje49nZ2NnY19nY2NjY2MHf4djY19fX2NfX19PY4Lbc+6zf/7jd6tbW1q3e/9XV1bDc/9LU1dPT09LS06fb/9HR0dHS08/Pz87Ozs3Nzc7Oze7NZs3NzMvLzPDLZZTV//bHY8nJyMjIyMfHx8TExMXFxMPDxMPDw8HDx8LCwr/CwqbF4r+/v7q9xbe7wrq5uaC7yae6x9i1V7S1tf2pSrSzsbmxr6O3uqa1xP+lR6+yt7Cxsa2wsrCvra+vr6uvsfehRauqqq2qnZSszqmmnKeil5ygw5+dnIufrZeXl8qMYZeVlZWSnbaLfo2UnJSSkcuGXJGRkpWRj4STr4WRtJCQkJGRjZOQjJOOipGOi5CMko2Mi4uLi4mIioqHhXyJkYaFh6p9dIaEgqV5dn2DhYGAfqJ4dH9+f3J/lHh+hnt7fnp4eHd3e3d2dml5gWp5gnd1e3h0cGV3fnRzd21yh3BvbnBubWlueGdnZ2Rma2FmdFphZldeYV1bXlpZV1pYWFpWVlRUUVNSUFRST1NPS01MSkxJSUpIS0lJSExHRTg3NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAQUAP8ALAAAAAAUABQAAAj/AAEIHEiwoEGDDFTokKKl4ZEaIxQcFGjixxY/pTZtkrPlRggEB0dYzOUqEp09rzx9uSHCIIIaWFDxYvLAA4gnt0KRqQGhoIgggFoJAbDiSpQTPHrhkcKioAorkkRVwDFlxokTGAzZ6kKjIIsujxKVEANDggYNEtwAO7PDK5lOlig4+XAhQQIHeoSd6UEQAQ01mVY1eUEigoDDp4Kl8THwwIgifTjRugTEgoUGBNoo27WlKwDHROIgqjNpFqs5SIYsajbqTRIUABCMIALnUJg7kH4dYzYsWTFYgaCw4AAgg401hbzwSSVrmSpQoDAR2rLExQKKVPKMGWQqFjJKdtiUTtGy5AYKCAECADCRpVIjUrWMMUJTRYeMFi0WqB9owoggXb4Q44gZR4wA0kQcyKDFH7goAkaBB0w0UAcxJGFhDiNEKKFAB2QgwociSLRhQAA7);height:21px;width:21px;padding:6px}.btn-fechar{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEUAAADbVWHfUF/gT1/fT13fT1/gT1/gT18AAADzuIw9AAAAB3RSTlMAFbrWN9LwcKApFAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfgCxkRDyO4SjzcAAAAU0lEQVQI12NgVHZgYGAxEmAQLU9hYHArD2RQLy9zYEkvL2IwLy9PcSsvLwaKlpelAzkMQGEgKHMAKSwHCTCAhUACCAZMCq4Yrh1uINwKuKUwZwAA6eEm66TvjNYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMTEtMjVUMTc6MTU6MzUrMDE6MDC3uE8LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTExLTI1VDE3OjE1OjM1KzAxOjAwxuX3twAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=);height:16px;width:15px}.div-salvar{position:absolute;margin-right:55px;margin-bottom:200px;bottom:0;right:0;z-index:20000}.div-remover-pontos{position:absolute;margin-right:55px;margin-bottom:150px;bottom:0;right:0;z-index:20000}.div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8}.div-remove-pontos{position:absolute;top:150px}.div-pesquisa-logradouro{position:absolute;left:90px;top:10px;z-index:20000}.div-endereco{position:absolute;left:90px;top:66px;opacity:.9;z-index:20000;height:200px;overflow:auto}.tabela-pesquisa-logradouro{border:1px solid gray}.tabela-endereco{background-color:#d3d3d3;z-index:999;border:1px solid #000;cursor:pointer}.tabela-endereco>tbody>tr:nth-of-type(even){background-color:#f9f9f9}::-webkit-scrollbar{width:12px}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.logoBHMap{position:absolute;bottom:10px;right:10px;z-index:20000;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background-position:center center;background-size:contain;width:64px;height:18px}.BHMapZoomBox{z-index:20000;position:absolute;left:0;top:20px}.BHMapZoomBoxMinus a:hover,.BHMapZoomBoxPlus a:hover{-webkit-box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03);box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03)}.BHMapZoomBoxPlus a{position:absolute;left:10px;top:7px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUwRTZCRkI3NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUwRTZCRkI4NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTBFNkJGQjU2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTBFNkJGQjY2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7cwPMXAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAZSURBVHjaYmBkZGRgYACR2Fj4AV69AAEGAAauACW68QgkAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}.BHMapZoomBoxMinus a{position:absolute;left:10px;top:34px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjRDMEQ5NjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjRDMERBNjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyNEMwRDc2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyNEMwRDg2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uh53jAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAVSURBVHjaYmCEAQZsLPwAr16AAAMACdgAN9MxY1IAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}"],template:'\n<spinner [backgroundColor]="\'#64676b\'" [spinner]="spinkit.skThreeBounce" [debounceDelay]="200">\n</spinner>\n\n\x3c!-- Controles de zoom do mapa--\x3e\n<div class="BHMapZoomBox">\n  <div class="BHMapZoomBoxPlus">\n     <a href="#" (click)="zoomIn()"></a>\n   </div>\n   <div class="BHMapZoomBoxMinus">\n      <a href="#" (click)="zoomOut()"></a>\n  </div>\n</div>\n\n\x3c!-- Div que renderiza o mapa\n\n  \n<div id="BHMap" style="height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;"></div> --\x3e\n \n\n<div id="map" class="map" style="height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;"></div>\n\n\n\x3c!--Pesquisa por logradouros.--\x3e\n\n<div class="div-pesquisa-logradouro">\n <table class="tabela-pesquisa-logradouro">\n   <tr>\n     <td class="cabecalho"><label for="nomeLogradouro">Logradouro</label>\n     </td>\n   </tr>\n   <tr>\n     <td>\n       <input type="text" [(ngModel)]="nomeLogradouro" style="width: 180px;" placeholder="Digite o endereço" (keypress)="keypressLogradouro($event)"  />\n       <input type="number" [(ngModel)]="numeroLogradouro" style="width: 50px;" min="1" placeholder="Nº" (keypress)="keypressLogradouro($event)"  />\n       <button (click)="buscaLogradouro()" type="button" class="btn-lograd btn-lupa" title="Pesquisar"></button>\n     </td>\n   </tr>\n </table>\n</div>\n\n\x3c!-- Grid de resultado pesquisa logradouros --\x3e\n\n<div class="div-endereco">\n <table class="tabela-endereco" *ngIf="enderecos && enderecos.length > 1">\n   <tr>\n     <td style="text-align:right">\n       <button (click)="limparEnderecos()" class="btn-lograd btn-fechar" type="button" title="Fechar"></button>\t\n     </td>\n   </tr>\n   <tr *ngFor="let endereco of enderecos" (click)=zoomEndereco(endereco)>\n     <td> {{endereco.tipologradouro}} {{endereco.nomelogradouro}} , BAIRRO {{endereco.bairropopular | uppercase}}\n     </td>\n   </tr>\n </table>\n</div>\n\n\x3c!--Componente de camadas / profundidades.--\x3e\n\n<ng-container *ngIf="tiposCamadasSelecaoUsuario">\n  <app-painel-selecao-camadas id="camadas" [(ngModel)]="tiposCamadasSelecaoUsuario" (change)="changeCamada($event)" ></app-painel-selecao-camadas>\n</ng-container>\n\n<div class="div-remover-pontos">\n <button type="button" class="btn btn-danger" (click)="removerPontos()">Remover pontos</button>\n</div>\n\n\n\n<div class="logoBHMap"> </div>'}]}],Y.ctorParameters=function(){return[{type:H},{type:G}]},Y.propDecorators={tiposCamadas:[{type:u.Input}],urlProxy:[{type:u.Input}],isProduction:[{type:u.Input}],emitter:[{type:u.Output}],painelSelecaoCamadas:[{type:u.Input}],msgErroEndereco:[{type:u.Input}],zoomMaximo:[{type:u.Input}]};var z="ide_bhgeo",W="pbh_sirgas",X="pbh_base";function q(e){switch(e){case P.Endereco:case P.Logradouro:case P.Parque:case P.PatrimonioCultural:case P.Praca:return z;case P.AreaTrechoLogradouro:return W;case P.ObraLogradouro:return X}}var Q=function(){function e(e,o){this.httpClient=e,this.bhMapService=o}return e.prototype.registraVariaveis=function(e,o,t){this.proxyHost=e,this.urlBhMap=O(o),this.workspaceBase=""+q(t[0]),this.urlCamadas=I(o),this.workspaceBase===W?(this.nomeMapaBase="S2000_BHBASE",this.sirgas=!0):(this.nomeMapaBase="MAPA_BASE",this.sirgas=!1)},e.prototype.getGeometriasEImagem=function(r,a,n,i,s,p,d){var c=this;return void 0===s&&(s=800),void 0===p&&(p=600),void 0===d&&(d=100),this.registraVariaveis(r,a,n),new h.Observable(function(o){if(!i)return o.next(),void o.complete();var e=c.aplicaFiltroEspecificoParaGeometria(i,n),t=c.workspaceBase+":"+(c.sirgas?"S2000_":"")+n[0].toUpperCase();c.bhMapService.getFeature(t,e,c.proxyHost,c.urlBhMap).pipe(g.mergeMap(function(e){var o=(new l).readFeatures(e).map(function(e){return{geometry:e.geometry}});return c.getImagem(r,a,n,o,i,s,p,d)})).subscribe(function(e){o.next(e),o.complete()},function(e){console.error(e),o.next(),o.complete()})})},e.prototype.getImagem=function(e,o,t,r,a,n,i,s){var p=this;void 0===n&&(n=800),void 0===i&&(i=600),void 0===s&&(s=100),this.workspaceBase||this.registraVariaveis(e,o,t);var d={service:"WMS",version:"1.1.0",request:"GetMap",srs:N,format:"image/png",layers:this.workspaceBase+":"+this.nomeMapaBase+","+t.map(function(e){return q(e)+":"+(p.sirgas?"S2000_":"")+e.toUpperCase()}).join(","),bbox:""+function c(e,o){var t=new window.nomeObjetoOpenLayers.Geometry.Collection;e.forEach(function(e){t.addComponent(e.geometry)}),t.calculateBounds();var r=t.getBounds();return new window.nomeObjetoOpenLayers.Bounds(r.left-o,r.bottom-o,r.right+o,r.top+o)}(r,s),width:n,height:i,cql_filter:"include;"+a};return new h.Observable(function(o){return p.httpClient.get(""+p.proxyHost+p.urlCamadas+p.workspaceBase+"/wms?"+T(d),{responseType:"arraybuffer"}).subscribe(function(e){o.next(e),o.complete()},function(e){console.error(e),o.error(e)})})},e.prototype.aplicaFiltroEspecificoParaGeometria=function(e,o){return o.find(function(e){return e===P.ObraLogradouro})?e.split(";")[0]:e},e}();Q.decorators=[{type:u.Injectable}],Q.ctorParameters=function(){return[{type:c.HttpClient},{type:G}]};var J=function(){function e(){this.change=new u.EventEmitter,this.camadas=new Array,this.propagateChange=function(e){}}return Object.defineProperty(e.prototype,"model",{get:function(){return this.camadas},set:function(e){this.camadas=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){e!==undefined&&(this.camadas=e)},e.prototype.registerOnChange=function(e){this.propagateChange=e},e.prototype.registerOnTouched=function(){},e.prototype.onChange=function(o){var e=this.camadas.filter(function(e){return e.selecionado&&e.id!==o.id});e.push(o),this.change.emit(e)},e}();J.decorators=[{type:u.Component,args:[{selector:"app-painel-selecao-camadas",styles:[".div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8;z-index:20000}"],template:'<div class="div-camadas">\n\n    <div style="text-align: center;padding-top: 5px;"><b>Visualizar</b></div>\n\n\n    <div style="margin:5px;">\n\n        <div *ngFor="let c of camadas">\n            <input type="checkbox" [id]="c.nome" [(ngModel)]="c.selecionado" #ckb="ngModel" [disabled]="!c.habilitado"\n                (change)="onChange(c)" />\n            <label [for]="c.nome">{{ c.descricao }}</label>\n        </div>\n\n    </div>\n</div>',providers:[{provide:b.NG_VALUE_ACCESSOR,useExisting:u.forwardRef(function(){return J}),multi:!0}]}]}],J.propDecorators={change:[{type:u.Output}],model:[{type:u.Input}]};var K=function ee(){};K.decorators=[{type:u.NgModule,args:[{declarations:[Y,J],imports:[f.CommonModule,b.FormsModule,y.NgHttpLoaderModule],exports:[Y],providers:[H,G,Q]}]}],e.ObjetoOutputMapa=M,e.CamadasEnum=P,e.TipoControlePontoEnum=w,e.TipoCamada=E,e.BhMapComponent=Y,e.BhMapImageService=Q,e.BhMapModule=K,e.ɵc=J,e.ɵb=G,e.ɵa=H,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=bhmap.umd.min.js.map
