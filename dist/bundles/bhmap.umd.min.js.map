{
  "version": 3,
  "file": "bhmap.umd.min.js",
  "sources": [
    "ng://bhmap/node_modules/tslib/tslib.es6.js",
    "ng://bhmap/out/app/models/objetoOutputMapa.ts",
    "ng://bhmap/out/app/enums/camadasEnum.ts",
    "ng://bhmap/out/app/enums/tipoControlePontoEnum.ts",
    "ng://bhmap/out/app/models/tipoCamada.ts",
    "ng://bhmap/out/app/helpers/utils.ts",
    "ng://bhmap/out/app/models/bhMap.ts",
    "ng://bhmap/out/app/services/bhmap.service.ts",
    "ng://bhmap/out/app/helpers/camadas/abstract-camada.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-area-trecho-logradouro.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-endereco.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-logradouro.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-default.ts",
    "ng://bhmap/out/app/helpers/camadas/camada-parque.ts",
    "ng://bhmap/out/app/helpers/camadas/factory-camada.ts",
    "ng://bhmap/out/app/services/geocoder.service.ts",
    "ng://bhmap/out/app/bhmap.component.ts",
    "ng://bhmap/out/app/enums/worspaceCamadaEnum.ts",
    "ng://bhmap/out/app/services/bhmap-imagem.service.ts",
    "ng://bhmap/out/app/components/painel-selecao-camadas/painel-selecao-camadas.component.ts",
    "ng://bhmap/out/app/bhmap.module.ts"
  ],
  "sourcesContent": [
    "/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n",
    "export class ObjetoOutputMapa {\r\n    // Geralmente um array de ids ou um array de qualquer outro objeto.\r\n    objetosRetorno: Array<any>;\r\n    urlImagensMapa?: string;\r\n}\r\n",
    "export enum CamadasEnum {\r\n    AreaTrechoLogradouro = 'area_trecho_logradouro',\r\n    ObraLogradouro = 'obra_logradouro',\r\n    Endereco = 'endereco',\r\n    Logradouro = 'trecho_logradouro',\r\n    Parque = 'parque',\r\n    Praca = 'praca',\r\n    PatrimonioCultural = 'a_definir',\r\n}\r\n",
    "export enum TipoControlePontoEnum {\r\n    ponto = 'Point',\r\n    trajeto = 'LineString',\r\n    poligono = 'Polygon',\r\n    circle = 'Circle'\r\n}\r\n",
    "import { CamadasEnum } from '../enums/camadasEnum';\r\nimport { TipoControlePontoEnum } from '../enums/tipoControlePontoEnum';\r\n\r\n/**\r\n *  Objeto de configuração de camadas.\r\n */\r\n\r\nexport class TipoCamada {\r\n\r\n    // Enum que contém o caminho / id de recuperação da camada no servidor de backend do bhmaps.\r\n    camadaEnum: CamadasEnum;\r\n\r\n    // Um booleano que define se é a camada irá buscar informações no geoserver (feature wfs). O valor default é true.\r\n    wfs?: boolean;\r\n\r\n    // O tipo de controle da camada, disponível em TipoControlePontoEnum.ts (ponto, poligono, trajeto, box). O valor default é ponto.\r\n    tipoControlePontoEnum?: TipoControlePontoEnum;\r\n\r\n    // Se a camada é vísivel ou não. O valor default é true\r\n    visivel?: boolean;\r\n\r\n    // Opacidade da camada. O valor default é 0.5\r\n    opacidade?: number;\r\n\r\n    // Propriedades que devem ser preenchidas quando o mapa tiver o painel de seleção de camadas, um painel que exibe um checkbox de camadas.\r\n    // A descrição da camada que irá aparecer no checkbox.\r\n    descricao?: string;\r\n\r\n    // O valor do checkbox selecionado true ou false. O valor default é false.\r\n    selecionado?: boolean;\r\n\r\n    // Se o checkbox da camada irá ficar habilitado, existem camadas que não devem ter sua visibilidade alterada pelo usuário.  O valor default é true.\r\n    habilitado?: boolean;\r\n\r\n    // Id para diferenciação das camadas no momente de alterar a visibilidade.\r\n    id?: number;\r\n\r\n    /**\r\n     * Construtor com valores default.\r\n     * @param params\r\n     */\r\n    constructor(params: TipoCamada = {} as TipoCamada) {\r\n        this.camadaEnum = params.camadaEnum;\r\n        this.wfs = params.wfs === undefined ? true : params.wfs;\r\n        this.tipoControlePontoEnum = params.tipoControlePontoEnum ? params.tipoControlePontoEnum : TipoControlePontoEnum.ponto;\r\n        this.visivel = params.visivel === undefined ? true : params.visivel;\r\n        this.opacidade =  params.opacidade === undefined ? 0.5 : params.opacidade;\r\n        this.descricao = params.descricao;\r\n        this.selecionado = params.selecionado === undefined ? false : params.selecionado;\r\n        this.habilitado = params.habilitado === undefined ? true : params.habilitado;\r\n        this.id = params.id;\r\n    }\r\n}\r\n",
    "export const filtroEndereco = /rua\\s+|avenida\\s+|praca\\s+|praça\\s+|ave\\s+|av.\\s+|ave.\\s+/gi;\r\n\r\nexport const idAreaTrechoLogradouro = 'ID_AREA_TRECHO_LOGRADOURO';\r\n\r\nexport const caminhoMetadados = 'v2/api/metacamada';\r\n\r\nexport const epsg = 'EPSG:31983';\r\n\r\nexport function formataEndereco(endereco: any) {\r\n    return `${endereco.tipologradouro} ${endereco.nomelogradouro} , Nº ${endereco.numero}`;\r\n}\r\n\r\nexport function concatInQueryParams(queryFilterObject: any) {\r\n    return Object.keys(queryFilterObject).map((key) => `${key}=${queryFilterObject[key]}`).join('&');\r\n}\r\n\r\nexport function getUrlBhMap(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://bhmap.pbh.gov.br/';\r\n    }\r\n\r\n    return 'http://bhmap-hm.pbh.gov.br/';\r\n}\r\n\r\nexport function getUrlCamadas(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://bhmapogcbase.pbh.gov.br/bhmapogcbase/';\r\n    }\r\n\r\n    return 'http://bhmapogcbase-hm.pbh.gov.br/bhmapogcbase/';\r\n}\r\n\r\n\r\nexport function getUrlGeocoder(isProduction: boolean) {\r\n\r\n    if (isProduction) {\r\n        return 'http://geocoder.pbh.gov.br/';\r\n    }\r\n\r\n    return 'http://geocoder-hm.pbh.gov.br/';\r\n\r\n}\r\n\r\nexport function distinctArrayByProperties(array: any, prop: any, prop2: any) {\r\n\r\n    return array.reduce((currentArray: Array<any>, item: any) => {\r\n       if (!currentArray.find(currentItem => currentItem[prop2] === item[prop][prop2])) {\r\n            currentArray.push(item[prop]);\r\n        }\r\n        return currentArray;\r\n    }, []);\r\n}\r\n\r\nexport function distinctArrayByProperty(array: any, prop: any) {\r\n\r\n    return array.reduce((currentArray: Array<any>, item: any) => {\r\n        if (!currentArray.find(currentItem => currentItem[prop] === item[prop])) {\r\n             currentArray.push(item);\r\n         }\r\n        return currentArray;\r\n      }, []);\r\n}\r\n\r\nexport function calculaAreaImagemPorGeometrias(geometrias: any, buffer: number) {\r\n\r\n    const layers = new window['nomeObjetoOpenLayers'].Geometry.Collection();\r\n\r\n    geometrias.forEach((geometria: any) => {\r\n        layers.addComponent(geometria.geometry);\r\n    });\r\n\r\n    layers.calculateBounds();\r\n\r\n    // pega o bounding box do conjunto\r\n    const oldBB = layers.getBounds();\r\n\r\n    // faz um buffer ao redor da area\r\n    const newBB = new window['nomeObjetoOpenLayers'].Bounds(oldBB.left - buffer, oldBB.bottom - buffer, oldBB.right + buffer, oldBB.top + buffer);\r\n    return newBB;\r\n}\r\n\r\n",
    "/*\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport Layer from 'ol/layer/Layer';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Map from 'ol/Map';\r\n\r\nimport VectorSource from 'ol/source/Vector';\r\n\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport View from 'ol/View';\r\nimport * as proj4x from 'proj4'; */\r\n\r\nimport TileLayer from 'ol/layer/Tile';\r\nimport VectorLayer from 'ol/layer/Vector';\r\nimport Map from 'ol/Map';\r\nimport TileWMS from 'ol/source/TileWMS';\r\nimport { register } from 'ol/proj/proj4';\r\nimport VectorSource from 'ol/source/Vector';\r\nimport View from 'ol/View';\r\nimport TileGrid from 'ol/tilegrid/TileGrid';\r\nimport * as proj4x from 'proj4';\r\nimport { TipoControlePontoEnum } from '../enums/tipoControlePontoEnum';\r\nimport { epsg, getUrlBhMap, getUrlCamadas } from '../helpers/utils';\r\n\r\n/**\r\n *  Representa o modelo do bhmap.js\r\n */\r\nexport class BhMap {\r\n\r\n    proxyHost: string;\r\n    host: string;\r\n    urlCamadas: string;\r\n\r\n\r\n    // Varíaveis de controle de ponto.\r\n    ultimoPontoAdicionado: any;\r\n    idsJaAdicionados = [];\r\n    objetosDistintos = [];\r\n    tipoControlePonto: TipoControlePontoEnum;\r\n    numeroTotalPontos: number;\r\n    posicaoPonto: number;\r\n\r\n    // Novo\r\n    map: Map;\r\n    source: VectorSource;\r\n    camadaPrincipal: any;\r\n    private resolucoesMapa: Array<number>;\r\n    private extent: [number, number, number, number];\r\n    private layers: Array<any> = new Array<any>();\r\n    private tileGrid: TileGrid;\r\n\r\n\r\n    constructor(urlProxy: string, isProduction: boolean) {\r\n        this.proxyHost = urlProxy;\r\n        this.host = getUrlBhMap(isProduction);\r\n        this.urlCamadas = getUrlCamadas(isProduction);\r\n        this.configMap();\r\n    }\r\n\r\n    /**\r\n     *  Open layers vem por default com a projeção: World Geodetic System 1984, EPSG:4326\r\n     *  Por esse motivo é necessário sobrescrever com a projeção utilizada pelo BHMaps da prodabel.\r\n     */\r\n\r\n    private configuraProjecao() {\r\n        const proj4 = (proj4x as any).default;\r\n        proj4.defs(epsg, '+proj=utm +zone=23 +south +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs');\r\n        proj4.defs('WGS84', '+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees');\r\n        register(proj4);\r\n\r\n        //prj.setProj4();\r\n        // register(proj4);\r\n       // const proj = (projx as any);\r\n       // projx.setProj4(proj4);\r\n      //\r\n    }\r\n\r\n\r\n    /**\r\n     *  Configura o mapa com o objeto camada utilizando o utilitário do OpenLayers.\r\n     */\r\n\r\n    private configMap() {\r\n\r\n        this.configuraProjecao();\r\n\r\n        this.resolucoesMapa = [55.99999999999999, 27.999999999999996, 13.999999999999998, 6.999999999999999, 2.8, 1.4, 0.5599999999999999, 0.27999999999999997];\r\n        this.extent = [167058.56998217307, 6289251.342124983, 832941.430017827, 10567813.561305761];\r\n\r\n        this.tileGrid = new TileGrid({\r\n            extent: this.extent,\r\n            resolutions: this.resolucoesMapa,\r\n            tileSize: [256, 256]\r\n        });\r\n\r\n        this.addBaseLayerWMS();\r\n\r\n        this.source = new VectorSource({ wrapX: false });\r\n\r\n        this.layers.push(new VectorLayer({ source: this.source }));\r\n\r\n        this.createMap();\r\n    }\r\n\r\n    private addBaseLayerWMS() {\r\n        this.layers.push(\r\n            new TileLayer({\r\n                extent: this.extent,\r\n                source: new TileWMS({\r\n                    url: this.urlCamadas + 'wms',\r\n                    params: {\r\n                        'LAYERS': 'pbh_sirgas:S2000_BHBASE',\r\n                        'TILED': true,\r\n                        'GRIDSET': epsg,\r\n                        'SRS': epsg,\r\n                        'FORMAT': 'image/png'\r\n                    },\r\n                    tileGrid: this.tileGrid,\r\n                }),\r\n                opacity: 1,\r\n            }));\r\n    }\r\n\r\n    addLayerWMS(layer: any, visivel: boolean, opacidade: number) {\r\n\r\n          this.map.addLayer(new TileLayer({\r\n              extent: this.extent,\r\n              source: new TileWMS({\r\n                  url: this.urlCamadas + 'wms',\r\n                  params: {\r\n                      'LAYERS': layer.servicos.wms.name,\r\n                      'TILED': true,\r\n                      'GRIDSET': epsg,\r\n                      'SRS': epsg,\r\n                      'FORMAT': 'image/png'\r\n                  },\r\n                  tileGrid: this.tileGrid,\r\n              }),\r\n              opacity: opacidade,\r\n             // id: layer.id,\r\n             zIndex: layer.id,\r\n             visible: visivel\r\n          }));\r\n      }\r\n\r\n    private createMap() {\r\n        this.map = new Map({\r\n            layers: this.layers,\r\n            target: 'map',\r\n            loadTilesWhileAnimating: false,\r\n            loadTilesWhileInteracting: true,\r\n            view: new View({\r\n                center: [610398.62222215, 7796727.1334951],\r\n                zoom: 0,\r\n                projection: epsg,\r\n                resolutions: this.resolucoesMapa,\r\n                extent: this.extent\r\n            })\r\n        });\r\n    }\r\n\r\n    centerMap(cordenadas: [number, number]) {\r\n        this.map.getView().setCenter(cordenadas);\r\n        this.map.getView().setZoom(8);\r\n    }\r\n\r\n    recuperaCamadaPeloId(caminho: string): any {\r\n        let l = null;\r\n        this.map.getLayers().forEach((layer: TileLayer) => {\r\n            if (caminho === layer.get('zIndex')) {\r\n                l = layer;\r\n            }\r\n        });\r\n\r\n        return l;\r\n    }\r\n\r\n    removeUltimoPonto() {\r\n        if (this.ultimoPontoAdicionado) {\r\n            this.source.removeFeature(this.ultimoPontoAdicionado.feature);\r\n            this.ultimoPontoAdicionado = null;\r\n        }\r\n    }\r\n\r\n    removerPontos() {\r\n        this.idsJaAdicionados = [];\r\n        this.source.clear();\r\n    }\r\n\r\n}\r\n\r\n",
    "import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { epsg, concatInQueryParams } from '../helpers/utils';\r\nimport { BhMap } from '../models/bhMap';\r\n\r\n@Injectable()\r\nexport class BhMapService {\r\n\r\n    constructor(protected httpClient: HttpClient) { }\r\n\r\n    buscaCamadaBhMap(caminho: string): Observable<any> {\r\n        return this.httpClient.get(caminho);\r\n    }\r\n\r\n    /**\r\n     * Busca no servidor do BhMaps um json com informações da camada.\r\n     * Este método também transforma a coordenada original em pixel para adicionar limites (superior / inferior) baseados em um raio e converte novamente\r\n     * o pixel para as coordenadas inferior e superior, possibilitando uma pesquisa mais precisa.\r\n     * @param coordenadas\r\n     * @param bhMap\r\n     */\r\n    getFeatureDataWFS(coordenadas: [number, number], bhMap: BhMap): Observable<any> {\r\n\r\n        const camadaPrincipal = bhMap.camadaPrincipal;\r\n\r\n        // Para adicionar o raio de pesquisa é necessário obter o pixel pela coordenada: Longitude / Latitude.\r\n        const pixel = bhMap.map.getPixelFromCoordinate(coordenadas);\r\n        const objetoPontoGeometria = { x: pixel[0], y: pixel[1] };\r\n\r\n        let raioBusca = 1;\r\n\r\n        // Utiliza o raio padrão da camada se informado.\r\n        if (camadaPrincipal.servicos.wfs.raiobusca) {\r\n            raioBusca = camadaPrincipal.servicos.wfs.raiobusca;\r\n        }\r\n\r\n        // Faz um clone do pixel original e adiciona / diminui o raio.\r\n        const lowerPixel = Object.assign({}, objetoPontoGeometria);\r\n\r\n        lowerPixel.x -= raioBusca;\r\n        lowerPixel.y += raioBusca;\r\n\r\n         // Obtém a coordenada inferior para ser utilizada como filtro na chamada do backend\r\n        const lowerCoordinates = bhMap.map.getCoordinateFromPixel([lowerPixel.x, lowerPixel.y]);\r\n\r\n        // Faz um clone do pixel original e adiciona / diminui o raio.\r\n        const upperPixel = Object.assign({}, objetoPontoGeometria);\r\n\r\n        upperPixel.x += raioBusca;\r\n        upperPixel.y -= raioBusca;\r\n\r\n         // Obtém a coordenada superior para ser utilizada como filtro na chamada do backend\r\n        const upperCoordinates = bhMap.map.getCoordinateFromPixel([upperPixel.x, upperPixel.y]);\r\n\r\n        // Faz a chamada no backend utilizando os filtros.\r\n        return this.httpClient.get(`${bhMap.proxyHost}${camadaPrincipal.servicos.wfs.url}?${this.getQueryParams(camadaPrincipal, lowerCoordinates, upperCoordinates)}`);\r\n    }\r\n\r\n    /**\r\n     * Transforma um objeto de filtro em uma string.\r\n     * @param camadaPrincipal\r\n     * @param lowerCoordinates\r\n     * @param upperCoordinates\r\n     */\r\n\r\n    private getQueryParams(camadaPrincipal: any, lowerCoordinates: Array<number>, upperCoordinates: Array<number>): string {\r\n        const queryFilterObject = {\r\n            SERVICE: 'WFS',\r\n            REQUEST: 'GetFeature',\r\n            VERSION: '1.1.0',\r\n            TYPENAME: camadaPrincipal.servicos.wfs.workspace + ':' + camadaPrincipal.servicos.wfs.typename,\r\n            OUTPUTFORMAT: 'json',\r\n            FILTER: '<Filter xmlns=\"http://www.opengis.net/ogc\" xmlns:gml=\"http://www.opengis.net/gml\"><Intersects><PropertyName>' + camadaPrincipal.servicos.wfs.geom + '</PropertyName><gml:Envelope srsName=\"' + epsg + '\">' +\r\n                '<gml:lowerCorner>' + lowerCoordinates[0] + ' ' + lowerCoordinates[1] + '</gml:lowerCorner>' +\r\n                ' <gml:upperCorner>' + upperCoordinates[0] + ' ' + upperCoordinates[1] + '</gml:upperCorner>' +\r\n                '</gml:Envelope></Intersects></Filter>'\r\n        };\r\n\r\n        return concatInQueryParams(queryFilterObject);\r\n    }\r\n\r\n\r\n     /**\r\n     * Recupera um json com a geometria\r\n     * @param typeName\r\n     * @param cqlFilterGeometria\r\n     */\r\n\r\n    getFeature(typeName: string, cqlFilterGeometria: string, proxyHost: string, urlBhMap: string): Observable<any> {\r\n\r\n        const parametros = {\r\n            version: '2.0',\r\n            request: 'GetFeature',\r\n            typeName: typeName,\r\n            outputFormat: 'application/json',\r\n            CQL_FILTER: `${cqlFilterGeometria}`\r\n\r\n        };\r\n\r\n        return this.httpClient.get(`${proxyHost}${urlBhMap}v2/api/wfs?${concatInQueryParams(parametros)}`);\r\n    }\r\n\r\n}\r\n",
    "import GeoJSON from 'ol/format/GeoJSON';\r\nimport { BhMapComponent } from '../../bhmap.component';\r\nimport { TipoControlePontoEnum } from '../../enums/tipoControlePontoEnum';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\n\r\n\r\n/**\r\n*  Definição do contrato a ser implementado para cada tipo de camada. Essa classe abstrata é uma extensão do componente BhMapComponent para tratar\r\n*  comportamentos específicos das camadas do BhMaps. CamadasEnum.ts\r\n*  @author breno.mcosta\r\n*/\r\n\r\nexport abstract class AbstractCamada {\r\n\r\n   /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  abstract executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void;\r\n\r\n  /**\r\n   *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n   *  Possui as coordenadas da feature adicionada.\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n  abstract featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void;\r\n\r\n   /**\r\n   *  Por default retorna as mesmas camadas.\r\n   */\r\n  recuperaListaCamadasParaSelecao(tiposCamadas: Array<TipoCamada>): Array<TipoCamada> {\r\n    return tiposCamadas;\r\n  }\r\n\r\n /**\r\n   * Para mapas com visibilidades específicas.\r\n   * @param camadasSelecionadas\r\n   * @param bhMap\r\n   */\r\n  configuraVisibilidadeEspecifico(camadasSelecionadas: Array<TipoCamada>, bhMap: BhMap): boolean {\r\n    return false;\r\n  }\r\n\r\n  /**\r\n  * Método que configura o ponto para obter um json de informações da camada corrente via requisição HTTP\r\n  * no servidor do bhmaps.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n  featureAddedWFS(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n\r\n    bhMapComponentInstance.bhMap.ultimoPontoAdicionado = ponto;\r\n    const coordenadas = ponto.feature.getGeometry().getCoordinates();\r\n\r\n    if (bhMapComponentInstance.bhMap.tipoControlePonto === TipoControlePontoEnum.ponto) {\r\n      this.getFeatureDataWFS(bhMapComponentInstance, coordenadas);\r\n    } else {\r\n      bhMapComponentInstance.bhMap.numeroTotalPontos = coordenadas.length;\r\n      bhMapComponentInstance.bhMap.posicaoPonto = 1;\r\n\r\n      coordenadas.forEach((coordenada: any) => {\r\n        this.getFeatureDataWFS(bhMapComponentInstance, coordenada);\r\n      });\r\n\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Recupera a feature pela coordenada.\r\n   * @param bhMapComponentInstance\r\n   * @param coordenadas\r\n   */\r\n\r\n  private getFeatureDataWFS(bhMapComponentInstance: BhMapComponent, coordenadas: [number, number]) {\r\n    bhMapComponentInstance.bhMapService.getFeatureDataWFS(coordenadas, bhMapComponentInstance.bhMap).subscribe((json: any) => {\r\n      const features = new GeoJSON().readFeatures(json);\r\n      const results = features ? features.map((feature: any) => Object.assign({}, feature.values_)) : [];\r\n      this.executaCallback(results, bhMapComponentInstance, bhMapComponentInstance.emitter);\r\n    });\r\n  }\r\n\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { CamadasEnum } from '../../enums/camadasEnum';\r\nimport { idAreaTrechoLogradouro } from '../../helpers/utils';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { ObjetoOutputMapa } from '../../models/objetoOutputMapa';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de obras em logradouros.\r\n */\r\n\r\nexport class CamadaAreaTrechoLogradouro extends AbstractCamada {\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n    super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n  }\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n    const bhMap = bhMapComponentInstance.bhMap;\r\n\r\n    // Evita o desenho do ponto caso o usuario clique fora de uma area\r\n    if (objetoArr.length === 0 && bhMap.ultimoPontoAdicionado) {\r\n      bhMap.removeUltimoPonto();\r\n      return;\r\n    }\r\n\r\n    objetoArr.forEach((objetoRetorno: any) => {\r\n\r\n      const id = objetoRetorno[idAreaTrechoLogradouro];\r\n\r\n      // Evita que mais de um ponto seja adicionado em uma mesma area\r\n      if (bhMap.idsJaAdicionados && bhMap.idsJaAdicionados.find((idJaAdicionado: any) => idJaAdicionado.id === objetoRetorno[idAreaTrechoLogradouro])) {\r\n        bhMap.removeUltimoPonto();\r\n        return;\r\n      }\r\n\r\n      // Adiciona o id para futuro retorno via @Output\r\n      bhMap.idsJaAdicionados.push({ id: id, ponto: bhMap.ultimoPontoAdicionado, geometry: objetoRetorno.geometry });\r\n\r\n      const objetoOutputMapa = new ObjetoOutputMapa();\r\n      objetoOutputMapa.objetosRetorno = [{id: id, ponto: ponto}];\r\n      bhMapComponentInstance.emitter.emit(objetoOutputMapa);\r\n\r\n    });\r\n  }\r\n\r\n  configuraVisibilidadeEspecifico(camadasSelecionadas: Array<TipoCamada>, bhMap: BhMap): boolean {\r\n\r\n    const layer = bhMap.recuperaCamadaPeloId(CamadasEnum.ObraLogradouro);\r\n    const resultado = camadasSelecionadas.filter(c => c.habilitado && c.selecionado).map(c => `COD_PROFUNDIDADE=${c.id}`).join(' OR ');\r\n\r\n    if (resultado.length > 0) {\r\n      layer.setVisible(true);\r\n      layer.getSource().updateParams({ 'CQL_FILTER': resultado });\r\n    } else {\r\n      layer.setVisible(false);\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  recuperaListaCamadasParaSelecao(tiposCamadas: Array<TipoCamada>): Array<TipoCamada> {\r\n    const array = new Array<TipoCamada>().concat(tiposCamadas);\r\n\r\n    // Carrega subcamadas da camada de obras / area trecho logradouro.\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 2, descricao: 'Obras 1 a 2 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 3, descricao: 'Obras 2 a 3 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 4, descricao: 'Obras 3 a 4 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 5, descricao: 'Obras acima de 4 metros' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 6, descricao: 'Obras aéreas' }));\r\n    array.push(new TipoCamada({ camadaEnum: CamadasEnum.ObraLogradouro, id: 7, descricao: 'Obras sobre a superfície' }));\r\n    return array;\r\n  }\r\n\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { formataEndereco } from '../../helpers/utils';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de eventos.\r\n */\r\n\r\nexport class CamadaEndereco extends AbstractCamada {\r\n\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * \r\n   */\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent): void {\r\n  }\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n\r\n\r\n    const coordenadas = ponto.feature.getGeometry().getCoordinates();\r\n    bhMapComponentInstance.bhMap.ultimoPontoAdicionado = ponto;\r\n\r\n    bhMapComponentInstance.geocoderService.recuperaEnderecoPorGeometria(coordenadas[0], coordenadas[1], bhMapComponentInstance.isProduction).subscribe((resposta: any) => {\r\n\r\n      const endereco = resposta.endereco[0];\r\n\r\n      if (!endereco.id) {\r\n        alert('Não foi encontrado um endereço para o ponto selecionado!');\r\n        bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n        return;\r\n      }\r\n\r\n      const enderecoFormatado = formataEndereco(endereco);\r\n      if (confirm(`Confirma a seleção do endereço: \"${enderecoFormatado}\" ?`)) {\r\n        bhMapComponentInstance.emitter.emit({ objetosRetorno: [endereco] });\r\n      } else {\r\n        bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n      }\r\n\r\n    }, (resposta => {\r\n      bhMapComponentInstance.bhMap.removeUltimoPonto();\r\n      alert('Ocorreu um erro ao recupera o endereço. Tente novamente mais tarde.');\r\n      console.error(resposta.error.detalhes);\r\n    }));\r\n  }\r\n}\r\n",
    "import { EventEmitter } from '@angular/core';\r\nimport { BhMapComponent } from '../../bhmap.component';\r\nimport { TipoControlePontoEnum } from '../../enums/tipoControlePontoEnum';\r\nimport { distinctArrayByProperty } from '../../helpers/utils';\r\nimport { BhMap } from '../../models/bhMap';\r\nimport { ObjetoOutputMapa } from '../../models/objetoOutputMapa';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Essa classe é uma extensão do componente BhMapComponent com características específicas de eventos.\r\n */\r\n\r\nexport class CamadaLogradouro extends AbstractCamada {\r\n\r\n\r\n  /**\r\n   *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n   *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n   * @param objetoArr\r\n   * @param bhMapComponentInstance\r\n   * @param ponto\r\n   */\r\n\r\n  executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n    const bhMap = bhMapComponentInstance.bhMap;\r\n    const isPonto = bhMap.tipoControlePonto === TipoControlePontoEnum.ponto;\r\n\r\n    if (objetoArr.length === 0) {\r\n      alert('Logradouro não encontrado');\r\n      isPonto ? bhMap.removeUltimoPonto() : bhMap.removerPontos();\r\n    } else if (objetoArr.length > 10) {\r\n      alert('Seleção de trajeto inválida, aproxime mais o mapa para escolha do trajeto');\r\n      bhMap.removerPontos();\r\n    } else {\r\n      // Funções que evitam que um logradouro com o mesmo id seja retornado.\r\n      const logradourosDistintos = distinctArrayByProperty(objetoArr, 'ID_LOGRADOURO');\r\n      const arrayConcat = logradourosDistintos.concat(bhMap.objetosDistintos);\r\n      bhMap.objetosDistintos = distinctArrayByProperty(arrayConcat, 'ID_LOGRADOURO');\r\n\r\n      // Regras para trajetos.\r\n      if ((bhMap.posicaoPonto === bhMap.numeroTotalPontos) || isPonto) {\r\n\r\n        const arrayOrdenado = bhMap.objetosDistintos.reverse();\r\n\r\n        const msg = arrayOrdenado.map(logradouro => `\"${logradouro.TIPO_LOGRADOURO} ${logradouro.NOME_LOGRADOURO}\"`).join().trim();\r\n\r\n        if (confirm(`Confirma a seleção dos logradouros:\\n ${msg}`)) {\r\n          bhMapComponentInstance.emitter.emit({ objetosRetorno: arrayOrdenado });\r\n        } else {\r\n          bhMap.removerPontos();\r\n        }\r\n\r\n      } else {\r\n        bhMap.posicaoPonto++;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n  /**\r\n  *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n  *  Possui as coordenadas da feature adicionada.\r\n  * @param bhMapComponentInstance\r\n  * @param ponto\r\n  */\r\n\r\n  featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any) {\r\n    super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n  }\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\n/**\r\n *  Implementação para camadas que não exigem nenhum tipo de tratamento de negócio, apenas emitem o resultado da chamada wfs.\r\n */\r\n\r\nexport class CamadaDefault extends AbstractCamada {\r\n\r\n    /**\r\n     *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n     *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n     * @param objetoArr\r\n     * @param bhMapComponentInstance\r\n     * @param ponto\r\n     */\r\n    executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        if (objetoArr.length > 0) {\r\n            const objetosRetorno = objetoArr.map((obj: any) => {\r\n                return { objRetorno: obj, ponto: ponto };\r\n            });\r\n            bhMapComponentInstance.emitter.emit({ objetosRetorno: objetosRetorno });\r\n        } else {\r\n            alert('Ponto não encontrado');\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n      *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n      *  Possui as coordenadas da feature adicionada.\r\n      * @param bhMapComponentInstance\r\n      * @param ponto\r\n    */\r\n\r\n    featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n    }\r\n\r\n}\r\n",
    "import { BhMapComponent } from '../../bhmap.component';\r\nimport { AbstractCamada } from './abstract-camada';\r\n\r\nexport class CamadaParque extends AbstractCamada {\r\n\r\n\r\n     /**\r\n     *  Executa o callback com informações da camada (objetoArr: Array<any>) obtidas após a chamada assíncrona do servidor do bhmaps.\r\n     *  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n     * @param objetoArr\r\n     * @param bhMap\r\n     * @param angularEventEmitter\r\n     * @param ponto\r\n     */\r\n    executaCallback(objetoArr: Array<any>, bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n\r\n        const bhMap =  bhMapComponentInstance.bhMap;\r\n\r\n        if (!objetoArr || objetoArr.length === 0) {\r\n            alert('Parque não encontrado.');\r\n            bhMap.removerPontos();\r\n        } else {\r\n            const parque = objetoArr[0].data;\r\n\r\n            if (confirm(`Confirma a seleção do parque: \"${parque.NOME}\" ?`)) {\r\n                bhMapComponentInstance.emitter.emit({ objetosRetorno: [{ parque: parque, ponto: ponto }] });\r\n            } else {\r\n                bhMap.removerPontos();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *  Callback disparado pelo evento de adição de alguma Feature no mapa. Exemplo: Ponto, Polígono etc.\r\n     *  Possui as coordenadas da feature adicionada.\r\n     * @param bhMapComponentInstance\r\n     * @param ponto\r\n     */\r\n    featureAdded(bhMapComponentInstance: BhMapComponent, ponto: any): void {\r\n        super.featureAddedWFS(bhMapComponentInstance, ponto);\r\n    }\r\n\r\n}",
    "import { TipoCamada } from '../../models/tipoCamada';\r\nimport { AbstractCamada } from './abstract-camada';\r\nimport { CamadasEnum } from '../../enums/camadasEnum';\r\nimport { CamadaAreaTrechoLogradouro } from '../../helpers/camadas/camada-area-trecho-logradouro';\r\nimport { CamadaEndereco } from '../../helpers/camadas/camada-endereco';\r\nimport { CamadaLogradouro } from '../../helpers/camadas/camada-logradouro';\r\nimport { CamadaDefault } from '../../helpers/camadas/camada-default';\r\nimport { CamadaParque } from '../../helpers/camadas/camada-parque';\r\n\r\n\r\n\r\nexport class FactoryCamada {\r\n\r\n\r\n    tipoCamadaPrincipal: TipoCamada;\r\n\r\n\r\n    /**\r\n    *  Método que recupera a classe de callback da camada de acordo com a propriedade camadaPrincipal informada na\r\n    *  classe TipoCamada.ts. A classe de callback é utilizada para chamadas no servidor backend do bhmaps  Ver: AbstractCamada.ts método:  getFeatureDataWFS()\r\n    *  e adição de comportamentos específicos após a adição de features no mapa.\r\n    * @param tiposCamadas\r\n    */\r\n    recuperaCallbacksCamada(tiposCamadas: Array<TipoCamada>): AbstractCamada {\r\n\r\n        this.tipoCamadaPrincipal = tiposCamadas.filter(tipoCamada => tipoCamada.camadaEnum)[0];\r\n\r\n        switch (this.tipoCamadaPrincipal.camadaEnum) {\r\n            case CamadasEnum.Endereco:\r\n                return new CamadaEndereco();\r\n            case CamadasEnum.Logradouro:\r\n                return new CamadaLogradouro();\r\n            case CamadasEnum.Parque:\r\n                return new CamadaParque();\r\n            case CamadasEnum.AreaTrechoLogradouro:\r\n                return new CamadaAreaTrechoLogradouro();\r\n            default:\r\n                return new CamadaDefault();\r\n        }\r\n    }\r\n\r\n}\r\n",
    "\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { filtroEndereco, getUrlGeocoder } from '../helpers/utils';\r\nimport { BhMap } from '../models/bhMap';\r\n\r\n@Injectable()\r\nexport class GeocoderService {\r\n\r\n    constructor(private httpClient: HttpClient) {\r\n    }\r\n\r\n    recuperaEnderecoPorGeometria(longitude: string, latitude: string, isProduction: boolean) {\r\n        const pontoWKT = `POINT(${longitude}  ${latitude})`;\r\n        return this.httpClient.get(`${getUrlGeocoder(isProduction)}geocoder/v2/coordinate?ponto=${pontoWKT}`);\r\n    }\r\n\r\n    recuperaEnderecosPorLogradouro(nomeLogradouro: string, numero: number, isProduction: boolean): Observable<any> {\r\n\r\n        if (!nomeLogradouro) {\r\n            alert('É obrigatório informar o nome do logradouro.');\r\n            return;\r\n        }\r\n\r\n        const newEndereco = nomeLogradouro.toLowerCase().replace(filtroEndereco, '');\r\n        nomeLogradouro = newEndereco.toUpperCase().trim();\r\n\r\n        let params = `?logradouro=${nomeLogradouro}`;\r\n        if (numero) {\r\n            params += `&numero=${numero}`;\r\n        }\r\n\r\n        return this.httpClient.get(`${getUrlGeocoder(isProduction)}geocoder/v2/address${params}`);\r\n    }\r\n    zoomEndereco(endereco: any, bhMap: BhMap) {\r\n        const latitudeLongitude = this.getPonto(endereco);\r\n        bhMap.centerMap([latitudeLongitude[0], latitudeLongitude[1]]);\r\n    }\r\n    getPonto(endereco: any): Array<any> {\r\n        const cordenadas = endereco.wkt;\r\n        const busca = 'POINT(';\r\n        const ini = cordenadas.indexOf(busca) + busca.length;\r\n        const fim = cordenadas.indexOf(')', ini);\r\n        const lonLat: Array<any> = cordenadas.substr(ini, fim - ini).split(' ');\r\n        return lonLat;\r\n    }\r\n\r\n}\r\n",
    "import { Component, EventEmitter, Input, OnDestroy, OnInit, Output } from '@angular/core';\r\nimport { Spinkit } from 'ng-http-loader/spinkits';\r\nimport Draw from 'ol/interaction/Draw';\r\nimport { TipoControlePontoEnum } from './enums/tipoControlePontoEnum';\r\nimport { AbstractCamada } from './helpers/camadas/abstract-camada';\r\nimport { caminhoMetadados } from './helpers/utils';\r\nimport { BhMap } from './models/bhMap';\r\nimport { ObjetoOutputMapa } from './models/objetoOutputMapa';\r\nimport { TipoCamada } from './models/tipoCamada';\r\nimport { BhMapService } from './services/bhmap.service';\r\nimport { FactoryCamada } from './helpers/camadas/factory-camada';\r\nimport { GeocoderService } from './services/geocoder.service';\r\nimport { CamadasEnum } from './enums/camadasEnum';\r\n\r\n/**\r\n *  Componente base que busca as camadas no servidor do bhmaps.\r\n *  Este componente carrega os callbacks das camadas e suas características específicas de acordo\r\n *  a classe TipoCamada.ts.\r\n *  O projeto utiliza o OpenLayers 5 como base.\r\n *  @author breno.mcosta\r\n */\r\n@Component({\r\n  selector: 'app-bhmap',\r\n  styles: [`.cabecalho{text-align:center;color:#000;font-weight:700;background-color:#d3d3d3;opacity:.8}.btn{border:1px solid transparent;padding:.375rem .75rem;line-height:1.5;cursor:pointer;opacity:.7}.btn-success{color:#fff;background-color:#28a745;border-color:#28a745}.btn-danger{color:#fff;background-color:#c82333;border-color:#bd2130}.btn-lograd{cursor:pointer;border:none;opacity:.7}.btn-lupa{background:url(data:image/gif;base64,R0lGODlhFAAUAPcAAP////7+/vz///39/fb///n///L///z8/Pv7++////r6+vn5+fj4+OL//+H//+D///f3993//9r//9v//9X//9n//9f//9j//9X+//X19dL//9D///T09PPz887+/9H7/8j8//Hx8fDw8O/v78r4/8j4/+7u7s73/+3t7cv2/+zs7NLy/+vr6+rq6unp6cTz/8Xv/+fn5+bm5sHu/+Xl5ePj4+Pi4uLi4sDp/+Hh4eDg4N/f38Lk+97e3t3d3dzc3Lri/Nvb28rg6cje49nZ2NnY19nY2NjY2MHf4djY19fX2NfX19PY4Lbc+6zf/7jd6tbW1q3e/9XV1bDc/9LU1dPT09LS06fb/9HR0dHS08/Pz87Ozs3Nzc7Oze7NZs3NzMvLzPDLZZTV//bHY8nJyMjIyMfHx8TExMXFxMPDxMPDw8HDx8LCwr/CwqbF4r+/v7q9xbe7wrq5uaC7yae6x9i1V7S1tf2pSrSzsbmxr6O3uqa1xP+lR6+yt7Cxsa2wsrCvra+vr6uvsfehRauqqq2qnZSszqmmnKeil5ygw5+dnIufrZeXl8qMYZeVlZWSnbaLfo2UnJSSkcuGXJGRkpWRj4STr4WRtJCQkJGRjZOQjJOOipGOi5CMko2Mi4uLi4mIioqHhXyJkYaFh6p9dIaEgqV5dn2DhYGAfqJ4dH9+f3J/lHh+hnt7fnp4eHd3e3d2dml5gWp5gnd1e3h0cGV3fnRzd21yh3BvbnBubWlueGdnZ2Rma2FmdFphZldeYV1bXlpZV1pYWFpWVlRUUVNSUFRST1NPS01MSkxJSUpIS0lJSExHRTg3NgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAQUAP8ALAAAAAAUABQAAAj/AAEIHEiwoEGDDFTokKKl4ZEaIxQcFGjixxY/pTZtkrPlRggEB0dYzOUqEp09rzx9uSHCIIIaWFDxYvLAA4gnt0KRqQGhoIgggFoJAbDiSpQTPHrhkcKioAorkkRVwDFlxokTGAzZ6kKjIIsujxKVEANDggYNEtwAO7PDK5lOlig4+XAhQQIHeoSd6UEQAQ01mVY1eUEigoDDp4Kl8THwwIgifTjRugTEgoUGBNoo27WlKwDHROIgqjNpFqs5SIYsajbqTRIUABCMIALnUJg7kH4dYzYsWTFYgaCw4AAgg401hbzwSSVrmSpQoDAR2rLExQKKVPKMGWQqFjJKdtiUTtGy5AYKCAECADCRpVIjUrWMMUJTRYeMFi0WqB9owoggXb4Q44gZR4wA0kQcyKDFH7goAkaBB0w0UAcxJGFhDiNEKKFAB2QgwociSLRhQAA7);height:21px;width:21px;padding:6px}.btn-fechar{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAG1BMVEUAAADbVWHfUF/gT1/fT13fT1/gT1/gT18AAADzuIw9AAAAB3RSTlMAFbrWN9LwcKApFAAAAAFiS0dEAIgFHUgAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfgCxkRDyO4SjzcAAAAU0lEQVQI12NgVHZgYGAxEmAQLU9hYHArD2RQLy9zYEkvL2IwLy9PcSsvLwaKlpelAzkMQGEgKHMAKSwHCTCAhUACCAZMCq4Yrh1uINwKuKUwZwAA6eEm66TvjNYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTYtMTEtMjVUMTc6MTU6MzUrMDE6MDC3uE8LAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE2LTExLTI1VDE3OjE1OjM1KzAxOjAwxuX3twAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=);height:16px;width:15px}.div-salvar{position:absolute;margin-right:55px;margin-bottom:200px;bottom:0;right:0;z-index:20000}.div-remover-pontos{position:absolute;margin-right:55px;margin-bottom:150px;bottom:0;right:0;z-index:20000}.div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8}.div-remove-pontos{position:absolute;top:150px}.div-pesquisa-logradouro{position:absolute;left:90px;top:10px;z-index:20000}.div-endereco{position:absolute;left:90px;top:66px;opacity:.9;z-index:20000;height:200px;overflow:auto}.tabela-pesquisa-logradouro{border:1px solid gray}.tabela-endereco{background-color:#d3d3d3;z-index:999;border:1px solid #000;cursor:pointer}.tabela-endereco>tbody>tr:nth-of-type(even){background-color:#f9f9f9}::-webkit-scrollbar{width:12px}::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.5)}.logoBHMap{position:absolute;bottom:10px;right:10px;z-index:20000;background-image:url(data:image/png;base64,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);background-repeat:no-repeat;background-position:center center;background-size:contain;width:64px;height:18px}.BHMapZoomBox{z-index:20000;position:absolute;left:0;top:20px}.BHMapZoomBoxMinus a:hover,.BHMapZoomBoxPlus a:hover{-webkit-box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03);box-shadow:0 2px 8px rgba(0,0,0,.3),0 -1px 0 rgba(0,0,0,.03)}.BHMapZoomBoxPlus a{position:absolute;left:10px;top:7px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUwRTZCRkI3NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUwRTZCRkI4NjQzNzExRTBBQUI3RTAwMUU2MTZDRkQ5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTBFNkJGQjU2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTBFNkJGQjY2NDM3MTFFMEFBQjdFMDAxRTYxNkNGRDkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7cwPMXAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAZSURBVHjaYmBkZGRgYACR2Fj4AV69AAEGAAauACW68QgkAAAAAElFTkSuQmCC);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}.BHMapZoomBoxMinus a{position:absolute;left:10px;top:34px;width:25px;height:25px;margin:0;padding:0;background-color:#fafafa;border-radius:1px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAMAAADXT/YiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5MjRDMEQ5NjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5MjRDMERBNjQzNzExRTBCM0JDQkU2MzVGQTBCNjRDIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTkyNEMwRDc2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTkyNEMwRDg2NDM3MTFFMEIzQkNCRTYzNUZBMEI2NEMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7uh53jAAAABlBMVEUAAAD///+l2Z/dAAAAAnRSTlP/AOW3MEoAAAAVSURBVHjaYmCEAQZsLPwAr16AAAMACdgAN9MxY1IAAAAASUVORK5CYII=);background-repeat:no-repeat;background-position:center center;outline:0;border:none;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02);box-shadow:0 2px 4px rgba(0,0,0,.2),0 -1px 0 rgba(0,0,0,.02)}`],\r\n  template: `\r\n<spinner [backgroundColor]=\"'#64676b'\" [spinner]=\"spinkit.skThreeBounce\" [debounceDelay]=\"200\">\r\n</spinner>\r\n\r\n<!-- Controles de zoom do mapa-->\r\n<div class=\"BHMapZoomBox\">\r\n  <div class=\"BHMapZoomBoxPlus\">\r\n     <a href=\"#\" (click)=\"zoomIn()\"></a>\r\n   </div>\r\n   <div class=\"BHMapZoomBoxMinus\">\r\n      <a href=\"#\" (click)=\"zoomOut()\"></a>\r\n  </div>\r\n</div>\r\n\r\n<!-- Div que renderiza o mapa\r\n\r\n  \r\n<div id=\"BHMap\" style=\"height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;\"></div> -->\r\n \r\n\r\n<div id=\"map\" class=\"map\" style=\"height: 98vH; width: 99vW; -webkit-box-flex: 0; -ms-flex: 0 0 100%; flex: 0 0 100%;max-width: 100%;\"></div>\r\n\r\n\r\n<!--Pesquisa por logradouros.-->\r\n\r\n<div class=\"div-pesquisa-logradouro\">\r\n <table class=\"tabela-pesquisa-logradouro\">\r\n   <tr>\r\n     <td class=\"cabecalho\"><label for=\"nomeLogradouro\">Logradouro</label>\r\n     </td>\r\n   </tr>\r\n   <tr>\r\n     <td>\r\n       <input type=\"text\" [(ngModel)]=\"nomeLogradouro\" style=\"width: 180px;\" placeholder=\"Digite o endereço\" (keypress)=\"keypressLogradouro($event)\"  />\r\n       <input type=\"number\" [(ngModel)]=\"numeroLogradouro\" style=\"width: 50px;\" min=\"1\" placeholder=\"Nº\" (keypress)=\"keypressLogradouro($event)\"  />\r\n       <button (click)=\"buscaLogradouro()\" type=\"button\" class=\"btn-lograd btn-lupa\" title=\"Pesquisar\"></button>\r\n     </td>\r\n   </tr>\r\n </table>\r\n</div>\r\n\r\n<!-- Grid de resultado pesquisa logradouros -->\r\n\r\n<div class=\"div-endereco\">\r\n <table class=\"tabela-endereco\" *ngIf=\"enderecos && enderecos.length > 1\">\r\n   <tr>\r\n     <td style=\"text-align:right\">\r\n       <button (click)=\"limparEnderecos()\" class=\"btn-lograd btn-fechar\" type=\"button\" title=\"Fechar\"></button>\t\r\n     </td>\r\n   </tr>\r\n   <tr *ngFor=\"let endereco of enderecos\" (click)=zoomEndereco(endereco)>\r\n     <td> {{endereco.tipologradouro}} {{endereco.nomelogradouro}} , BAIRRO {{endereco.bairropopular | uppercase}}\r\n     </td>\r\n   </tr>\r\n </table>\r\n</div>\r\n\r\n<!--Componente de camadas / profundidades.-->\r\n\r\n<ng-container *ngIf=\"tiposCamadasSelecaoUsuario\">\r\n  <app-painel-selecao-camadas id=\"camadas\" [(ngModel)]=\"tiposCamadasSelecaoUsuario\" (change)=\"changeCamada($event)\" ></app-painel-selecao-camadas>\r\n</ng-container>\r\n\r\n<div class=\"div-remover-pontos\">\r\n <button type=\"button\" class=\"btn btn-danger\" (click)=\"removerPontos()\">Remover pontos</button>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"logoBHMap\"> </div>`\r\n})\r\nexport class BhMapComponent implements OnInit, OnDestroy {\r\n\r\n  // Camadas do bhMaps.\r\n  @Input()\r\n  tiposCamadas: Array<TipoCamada> = [new TipoCamada({camadaEnum: CamadasEnum.Logradouro, tipoControlePontoEnum: TipoControlePontoEnum.trajeto})];\r\n\r\n  // URL do servidor proxy no backend responsável por buscar recursos via https.\r\n  @Input()\r\n  urlProxy = 'http://localhost:8080/licenciamento/proxy?server=';\r\n\r\n\r\n  // Variável de ambiente que determinará as urls do bhMaps (homologação ou produção).\r\n  @Input()\r\n  isProduction = false;\r\n\r\n  // Objeto de saída.\r\n  @Output()\r\n  emitter: EventEmitter<ObjetoOutputMapa> = new EventEmitter<ObjetoOutputMapa>();\r\n\r\n  @Input()\r\n  painelSelecaoCamadas: boolean;\r\n\r\n  @Input()\r\n  msgErroEndereco: string;\r\n\r\n   // Para camadas como endereço quando existem muitos endereços próximos o zoom máximo é indicado porém pode ser mais lento.\r\n   @Input()\r\n   zoomMaximo: boolean;\r\n\r\n  // Classe abstrata responsável por chamadas de comportamentos\r\n  // específicos de acordo com a camada principal do array tiposCamadas informado via @Input tiposCamadas\r\n  // A criação de uma nova camada implica na extensão dessa classe.\r\n  abstractCamada: AbstractCamada;\r\n\r\n  // Enum tipo controle ponto\r\n  tipoControlePontoEnum = TipoControlePontoEnum;\r\n\r\n  // Quando for informado o Input painelSelecaoCamadas carrega por default as camadas do Input tiposCamadas no componente painel-selecao-camadas.component.ts\r\n  tiposCamadasSelecaoUsuario: Array<TipoCamada>;\r\n\r\n  // Objeto local do bhMaps.\r\n  bhMap: BhMap;\r\n\r\n  // Pesquisa de logradouro e endereço\r\n  // Campos referentes a aba de filtros de pesquisa e zoom do mapa.\r\n  nomeLogradouro: string;\r\n  numeroLogradouro: number;\r\n  nomeParque: string;\r\n  enderecos: Array<any>;\r\n  parques: Array<any>;\r\n\r\n  // Draw openlayers\r\n  draw: Draw;\r\n\r\n  // Componente de espera durante o loading de uma chamada HttpClient\r\n  spinkit = Spinkit;\r\n  factoryCamada = new FactoryCamada();\r\n\r\n  constructor(public geocoderService: GeocoderService, public bhMapService: BhMapService) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n\r\n    // Instancia o objeto local do bhMaps.\r\n    // Esse objeto é responsável por fazer as chamadas das imagens do mapa via GET no servidor do bhMaps,\r\n    // desenhar a div via innerHtml e configurações em geral.\r\n    this.bhMap = new BhMap(this.urlProxy, this.isProduction);\r\n\r\n    // Carrega a concreta com métodos específicos da camada pelo array tiposCamadas (@Input() tiposCamadas).\r\n    // Utiliza a camada principal  do array tiposCamadas para busca de informações no servidor de backend do bhmaps\r\n    // (Ver: AbstractCamada.ts método:  getFeatureDataWFS()).\r\n    this.abstractCamada = this.factoryCamada.recuperaCallbacksCamada(this.tiposCamadas);\r\n\r\n    //   Adiciona configurações dinâmicas do mapa.\r\n    this.carregarCamadas();\r\n    this.adicionaControlePonto();\r\n    this.adicionaPainelSelecaoCamadas();\r\n  }\r\n\r\n  /**\r\n   * Busca o json das camadas do servidor do bhMaps.\r\n   * @param caminhoAPI\r\n   */\r\n  carregarCamadas() {\r\n\r\n    this.tiposCamadas.forEach((tipoCamada: TipoCamada) => {\r\n      this.bhMapService.buscaCamadaBhMap(`${this.bhMap.proxyHost}${this.bhMap.host}${caminhoMetadados}/${tipoCamada.camadaEnum}`).subscribe((layer: any) => {\r\n        this.bhMap.addLayerWMS(layer, tipoCamada.visivel, tipoCamada.opacidade);\r\n        if (tipoCamada.wfs) {\r\n          this.bhMap.camadaPrincipal = layer;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Recupera o tipo de controle do ponto (desenho, trajeto, etc), o default é o desenho do ponto.\r\n   */\r\n\r\n  adicionaControlePonto() {\r\n\r\n    this.bhMap.tipoControlePonto = this.factoryCamada.tipoCamadaPrincipal.tipoControlePontoEnum;\r\n\r\n    this.draw = new Draw({\r\n      source: this.bhMap.source,\r\n      type: this.bhMap.tipoControlePonto\r\n    });\r\n\r\n    const bhMapComponentInstance = this;\r\n\r\n    this.bhMap.source.on('addfeature', function (evt: any) {\r\n      bhMapComponentInstance.abstractCamada.featureAdded(bhMapComponentInstance, evt);\r\n    });\r\n\r\n    this.bhMap.map.addInteraction(this.draw);\r\n  }\r\n\r\n  /**\r\n   *  Quando for informado o Input painelSelecaoCamadas carrega por default as camadas do Input tiposCamadas no componente painel-selecao-camadas.component.ts.\r\n   *   Também permite adicionar mais camadas ou subcamadas de acordo com a configuração da camadaPrincipal.\r\n   */\r\n\r\n  adicionaPainelSelecaoCamadas() {\r\n\r\n    if (this.painelSelecaoCamadas) {\r\n      this.tiposCamadasSelecaoUsuario = this.abstractCamada.recuperaListaCamadasParaSelecao(this.tiposCamadas);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  Método de zoom in do mapa.\r\n   */\r\n\r\n  zoomIn(): boolean {\r\n    const view = this.bhMap.map.getView();\r\n    const zoom = view.getZoom();\r\n    view.setZoom(zoom + 1);\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   *  Método de zoom out do mapa.\r\n   */\r\n\r\n  zoomOut(): boolean {\r\n    const view = this.bhMap.map.getView();\r\n    const zoom = view.getZoom();\r\n    view.setZoom(zoom - 1);\r\n    return false;\r\n  }\r\n\r\n  removerPontos() {\r\n    this.bhMap.removerPontos();\r\n    this.bhMap.map.removeInteraction(this.draw);\r\n    this.bhMap.map.addInteraction(this.draw);\r\n  }\r\n\r\n  configuraVisibilidade(id: string, selecionado: boolean) {\r\n    const layer = this.bhMap.recuperaCamadaPeloId(id);\r\n    layer.setVisible(selecionado);\r\n  }\r\n\r\n  /**\r\n   * Callback para o painel de seleção de camadas.\r\n   * @param event\r\n   */\r\n\r\n  changeCamada(camadasSelecionadas: Array<TipoCamada>) {\r\n\r\n    if (camadasSelecionadas.length && !this.abstractCamada.configuraVisibilidadeEspecifico(camadasSelecionadas, this.bhMap)) {\r\n      camadasSelecionadas.filter(c => c.habilitado).forEach(c => this.configuraVisibilidade(c.camadaEnum, c.selecionado));\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Necessário ser no keypress. keyup.enter é tarde demais para evitar a propagação do método (preventDefault() não funciona)\r\n   * @param event\r\n   */\r\n\r\n  keypressLogradouro(event: KeyboardEvent): boolean {\r\n    if (event.keyCode === 13) {\r\n      return this.buscaLogradouro();\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   *  Busca pelo logradouro e número.\r\n   */\r\n\r\n  buscaLogradouro(): boolean {\r\n\r\n    this.enderecos = null;\r\n\r\n    this.geocoderService.recuperaEnderecosPorLogradouro(this.nomeLogradouro, this.numeroLogradouro, this.isProduction).subscribe(resposta => {\r\n      if (resposta.status !== 'ok') {\r\n        alert('Ocorreu um erro na resposta da pesquisa de endereço, tente novamente mais tarde.');\r\n      } else if (resposta.endereco.length === 0) {\r\n        if (this.msgErroEndereco) {\r\n          alert(this.msgErroEndereco);\r\n        } else {\r\n          alert('Endereço não encontrado.');\r\n        }\r\n      } else if (resposta.endereco.length === 1) {\r\n\r\n        const endereco = resposta.endereco[0];\r\n\r\n        if (!endereco.id) {\r\n          if (this.msgErroEndereco) {\r\n            alert(this.msgErroEndereco);\r\n          } else {\r\n            alert('Endereço não encontrado.');\r\n          }\r\n          return false;\r\n        }\r\n        this.zoomEndereco(endereco);\r\n\r\n      } else {\r\n        this.enderecos = resposta.endereco;\r\n      }\r\n    }, (resposta => {\r\n      alert('Ocorreu um erro ao buscar o logradouro. Tente novamente mais tarde.');\r\n      console.error(resposta.error.detalhes);\r\n    }));\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   *  Limpa o grid de endereços.\r\n   */\r\n\r\n  limparEnderecos(): boolean {\r\n    this.enderecos = null;\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Faz a pesquisa no geocoder pelo o endereço parametrizado e utiliza o openlayers para o zoom do mapa.\r\n   * @param endereco\r\n   */\r\n  zoomEndereco(endereco: any) {\r\n    this.enderecos = null;\r\n    this.geocoderService.zoomEndereco(endereco, this.bhMap);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n  }\r\n}\r\n",
    "import { CamadasEnum } from './camadasEnum';\r\n\r\nexport enum WorspaceCamadaEnum {\r\n\r\n    BhGeo = 'ide_bhgeo',\r\n    Sirgas = 'pbh_sirgas',\r\n    PbhBase = 'pbh_base'\r\n}\r\n\r\nexport function getWorkspaceByCamada(camadaEnum: CamadasEnum) {\r\n\r\n    switch (camadaEnum) {\r\n\r\n        case CamadasEnum.Endereco:\r\n        case CamadasEnum.Logradouro:\r\n        case CamadasEnum.Parque:\r\n        case CamadasEnum.PatrimonioCultural:\r\n        case CamadasEnum.Praca: {\r\n            return WorspaceCamadaEnum.BhGeo;\r\n        }\r\n\r\n        case CamadasEnum.AreaTrechoLogradouro: {\r\n            return WorspaceCamadaEnum.Sirgas;\r\n        }\r\n        case CamadasEnum.ObraLogradouro: {\r\n            return WorspaceCamadaEnum.PbhBase;\r\n        }\r\n    }\r\n}",
    "\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { mergeMap } from 'rxjs/operators';\r\nimport { CamadasEnum } from '../enums/camadasEnum';\r\nimport GeoJSON from 'ol/format/GeoJSON';\r\nimport { getWorkspaceByCamada, WorspaceCamadaEnum } from '../enums/worspaceCamadaEnum';\r\nimport { calculaAreaImagemPorGeometrias, concatInQueryParams, epsg, getUrlBhMap, getUrlCamadas } from '../helpers/utils';\r\nimport { BhMapService } from './bhmap.service';\r\n\r\n/**\r\n *  Service que retorna uma imagem do servidor de backend do bhmaps (goserver) de acordo com  um filtro (cql_filter) e uma camada.\r\n *  @author breno.mcosta\r\n */\r\n\r\n@Injectable()\r\nexport class BhMapImageService {\r\n\r\n    private proxyHost: string;\r\n    private urlBhMap: string;\r\n    private workspaceBase: string;\r\n    private urlCamadas: string;\r\n    private nomeMapaBase: string;\r\n    private sirgas: boolean;\r\n\r\n    constructor(private httpClient: HttpClient, private bhMapService: BhMapService) { }\r\n\r\n    /**\r\n     *  Registra varíaveis e urls.\r\n     * @param urlProxy\r\n     * @param isProduction\r\n     * @param camadasEnum\r\n     */\r\n\r\n    private registraVariaveis(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>): void {\r\n        this.proxyHost = urlProxy;\r\n        this.urlBhMap = getUrlBhMap(isProduction);\r\n        this.workspaceBase = `${getWorkspaceByCamada(camadasEnum[0])}`;\r\n        this.urlCamadas = getUrlCamadas(isProduction);\r\n        if (this.workspaceBase === WorspaceCamadaEnum.Sirgas) {\r\n            this.nomeMapaBase = 'S2000_BHBASE';\r\n            this.sirgas = true;\r\n        } else {\r\n            this.nomeMapaBase = 'MAPA_BASE';\r\n            this.sirgas = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  Recupera as geometrias e a imagem de acordo com os parâmetros informados.\r\n     * @param urlProxy - URL do servidor proxy no backend responsável por buscar recursos via https..\r\n     * @param isProduction - Variável que define se as urls do bhmaps seram de homologação ou produção.\r\n     * @param camadasEnum  - Array de camadas que serão adicionadas com a camada base para geração da imagem, a primeira camada deve ser a mesma do cqlFilter. Ver CamadasEnum.ts.\r\n     * @param cqlFilter  - Filtro para recuperação das geometrias da camada, mais detalhes em https://wiki.state.ma.us/display/massgis/GeoServer+-+CQL\r\n     * @param largura - Largura da imagem, argumento com valor default 800px.\r\n     * @param altura - Largura da imagem, argumento com valor default 600px.\r\n     * @param buffer - Buffer para cálculo da área da imagem, após a concatenação das geometrias esse valor é aplicado para dar um zoom melhor na imagem. Quanto maior o valor do buffer menor será o zoom da imagem, argumento com valor default 100\r\n     */\r\n\r\n    getGeometriasEImagem(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>, cqlFilter: string, largura: number = 800, altura: number = 600, buffer: number = 100): Observable<any> {\r\n\r\n\r\n        this.registraVariaveis(urlProxy, isProduction, camadasEnum);\r\n\r\n        return new Observable((observer) => {\r\n\r\n            if (!cqlFilter)  {\r\n                observer.next();\r\n                observer.complete();\r\n                return;\r\n            }\r\n\r\n            const cqlFilterGeometria = this.aplicaFiltroEspecificoParaGeometria(cqlFilter, camadasEnum);\r\n\r\n            const typename = `${this.workspaceBase}:${this.sirgas ? 'S2000_' : ''}${camadasEnum[0].toUpperCase()}`;\r\n\r\n            this.bhMapService.getFeature(typename, cqlFilterGeometria, this.proxyHost, this.urlBhMap).pipe(mergeMap(json => {\r\n\r\n \r\n\r\n               const features = new GeoJSON().readFeatures(json);\r\n\r\n                const geometrias = features.map((ponto: any) => {\r\n                    return { geometry: ponto.geometry };\r\n                });\r\n\r\n                return this.getImagem(urlProxy, isProduction, camadasEnum, geometrias, cqlFilter, largura, altura, buffer);\r\n\r\n            })).subscribe(arrayBuffer => {\r\n                observer.next(arrayBuffer);\r\n                observer.complete();\r\n            }, (error) => {\r\n                console.error(error);\r\n                // Retorna vazio para não causar erro na aplicação chamadora.\r\n                observer.next();\r\n                observer.complete();\r\n            });\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n     *  Recupera a imagem de acordo com os parâmetros informados.\r\n     * @param urlProxy - URL do servidor proxy no backend responsável por buscar recursos via https..\r\n     * @param isProduction - Variável que define se as urls do bhmaps seram de homologação ou produção.\r\n     * @param camadasEnum  - Array de camadas que serão adicionadas com a camada base para geração da imagem, a primeira camada deve ser a mesma do cqlFilter. Ver CamadasEnum.ts.\r\n     * @param geometrias - geometrias dos pontos caso já existam.\r\n     * @param cqlFilter  - Filtro para recuperação das geometrias da camada, mais detalhes em https://wiki.state.ma.us/display/massgis/GeoServer+-+CQL\r\n     * @param largura - Largura da imagem, argumento com valor default 800px.\r\n     * @param altura - Largura da imagem, argumento com valor default 600px.\r\n     * @param buffer - Buffer para cálculo da área da imagem, após a concatenação das geometrias esse valor é aplicado para dar um zoom melhor na imagem. Quanto maior o valor do buffer menor será o zoom da imagem, argumento com valor default 100\r\n     */\r\n\r\n    getImagem(urlProxy: string, isProduction: boolean, camadasEnum: Array<CamadasEnum>, geometrias: any, cqlFilter: string, largura: number = 800, altura: number = 600, buffer: number = 100): Observable<any> {\r\n\r\n        if (!this.workspaceBase) {\r\n            this.registraVariaveis(urlProxy, isProduction, camadasEnum);\r\n        }\r\n\r\n        const parametros = {\r\n            service: 'WMS',\r\n            version: '1.1.0',\r\n            request: 'GetMap',\r\n            srs: epsg,\r\n            format: 'image/png',\r\n            layers: `${this.workspaceBase}:${this.nomeMapaBase},${camadasEnum.map(camadaEnum => `${getWorkspaceByCamada(camadaEnum)}:${this.sirgas ? 'S2000_' : ''}${camadaEnum.toUpperCase()}`).join(',')}`,\r\n            bbox: `${calculaAreaImagemPorGeometrias(geometrias, buffer)}`,\r\n            width: largura,\r\n            height: altura,\r\n            cql_filter: `include;${cqlFilter}`\r\n        };\r\n\r\n        return new Observable((observer) =>\r\n            this.httpClient.get(`${this.proxyHost}${this.urlCamadas}${this.workspaceBase}/wms?${concatInQueryParams(parametros)}`, { responseType: 'arraybuffer' }).subscribe(blob => {\r\n                observer.next(blob);\r\n                observer.complete();\r\n            }, (error) => {\r\n                console.error(error);\r\n                observer.error(error);\r\n        }));\r\n\r\n    }\r\n\r\n    /**\r\n     *  Aplica um filtro específico caso o filtro da recuperação da geometria seja diferente da imagem.\r\n     * @param cqlFilter\r\n     * @param camadasEnum\r\n     */\r\n\r\n    private aplicaFiltroEspecificoParaGeometria(cqlFilter: string, camadasEnum: Array<CamadasEnum>) {\r\n\r\n        // No caso da camada de obra o filtro pelo COD_PROFUNDIDADE é feito apenas na query de imagem e não na de geometria.\r\n        if (camadasEnum.find(c => c === CamadasEnum.ObraLogradouro)) {\r\n            return cqlFilter.split(';')[0];\r\n        }\r\n\r\n        return cqlFilter;\r\n    }\r\n\r\n}\r\n",
    "import { Component, EventEmitter, forwardRef, Input, Output } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { TipoCamada } from '../../models/tipoCamada';\r\n\r\n\r\n@Component({\r\n  selector: 'app-painel-selecao-camadas',\r\n  styles: [`.div-camadas{position:absolute;overflow-y:auto;top:180px;border:1px solid #000;background-color:#d3d3d3;opacity:.8;z-index:20000}`],\r\n  template: `<div class=\"div-camadas\">\r\n\r\n    <div style=\"text-align: center;padding-top: 5px;\"><b>Visualizar</b></div>\r\n\r\n\r\n    <div style=\"margin:5px;\">\r\n\r\n        <div *ngFor=\"let c of camadas\">\r\n            <input type=\"checkbox\" [id]=\"c.nome\" [(ngModel)]=\"c.selecionado\" #ckb=\"ngModel\" [disabled]=\"!c.habilitado\"\r\n                (change)=\"onChange(c)\" />\r\n            <label [for]=\"c.nome\">{{ c.descricao }}</label>\r\n        </div>\r\n\r\n    </div>\r\n</div>`,\r\n  providers: [{\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(() => PainelSelecaoCamadasComponent),\r\n    multi: true\r\n  }]\r\n})\r\nexport class PainelSelecaoCamadasComponent implements ControlValueAccessor {\r\n\r\n    @Output()\r\n    change = new EventEmitter<Array<TipoCamada>>();\r\n\r\n    camadas = new Array<TipoCamada>();\r\n\r\n    @Input()\r\n    get model() {\r\n        return this.camadas;\r\n    }\r\n\r\n    set model(value: Array<TipoCamada>) {\r\n        this.camadas = value;\r\n    }\r\n\r\n    writeValue(value: Array<TipoCamada>) {\r\n        if (value !== undefined) {\r\n            this.camadas = value;\r\n        }\r\n    }\r\n\r\n    propagateChange = (_: any) => { };\r\n\r\n    registerOnChange(fn) {\r\n        this.propagateChange = fn;\r\n    }\r\n\r\n    registerOnTouched() { }\r\n\r\n    /**\r\n     * Retorna todas as camadas selecionadas mais o valor da camada corrente, que pode ser selecionado ou não selecionado\r\n     * para aplicar a visibilidade.\r\n     * @param camadaCorrente\r\n     */\r\n\r\n    onChange(camadaCorrente: TipoCamada) {\r\n     const camadasResultantes =  this.camadas.filter(c => c.selecionado && c.id !== camadaCorrente.id);\r\n     camadasResultantes.push(camadaCorrente);\r\n     this.change.emit(camadasResultantes);\r\n    }\r\n}\r\n",
    "import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgHttpLoaderModule } from 'ng-http-loader/ng-http-loader.module';\r\nimport { BhMapComponent } from './bhmap.component';\r\nimport { PainelSelecaoCamadasComponent } from './components/painel-selecao-camadas/painel-selecao-camadas.component';\r\nimport { GeocoderService } from './services/geocoder.service';\r\nimport { BhMapService } from './services/bhmap.service';\r\nimport { BhMapImageService } from './services/bhmap-imagem.service';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    BhMapComponent,\r\n    PainelSelecaoCamadasComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    NgHttpLoaderModule\r\n  ],\r\n  exports: [\r\n    BhMapComponent\r\n  ],\r\n  providers: [\r\n    GeocoderService,\r\n    BhMapService,\r\n    BhMapImageService\r\n  ]\r\n})\r\nexport class BhMapModule { }\r\n"
  ],
  "names": [
    "extendStatics",
    "d",
    "b",
    "Object",
    "setPrototypeOf",
    "__proto__",
    "Array",
    "p",
    "hasOwnProperty",
    "__extends",
    "__",
    "this",
    "constructor",
    "prototype",
    "create",
    "ObjetoOutputMapa",
    "AreaTrechoLogradouro",
    "ObraLogradouro",
    "Endereco",
    "Logradouro",
    "Parque",
    "Praca",
    "PatrimonioCultural",
    "ponto",
    "trajeto",
    "poligono",
    "circle",
    "TipoCamada",
    "params",
    "camadaEnum",
    "wfs",
    "undefined",
    "tipoControlePontoEnum",
    "TipoControlePontoEnum",
    "visivel",
    "opacidade",
    "descricao",
    "selecionado",
    "habilitado",
    "id",
    "filtroEndereco",
    "idAreaTrechoLogradouro",
    "epsg",
    "concatInQueryParams",
    "queryFilterObject",
    "keys",
    "map",
    "key",
    "join",
    "getUrlBhMap",
    "isProduction",
    "getUrlCamadas",
    "getUrlGeocoder",
    "distinctArrayByProperty",
    "array",
    "prop",
    "reduce",
    "currentArray",
    "item",
    "find",
    "currentItem",
    "push",
    "BhMap",
    "urlProxy",
    "idsJaAdicionados",
    "objetosDistintos",
    "layers",
    "proxyHost",
    "host",
    "urlCamadas",
    "configMap",
    "configuraProjecao",
    "proj4",
    "(/** @type {?} */ (proj4x)).default",
    "defs",
    "register",
    "resolucoesMapa",
    "extent",
    "tileGrid",
    "TileGrid",
    "resolutions",
    "tileSize",
    "addBaseLayerWMS",
    "source",
    "VectorSource",
    "wrapX",
    "VectorLayer",
    "createMap",
    "TileLayer",
    "TileWMS",
    "url",
    "LAYERS",
    "TILED",
    "GRIDSET",
    "SRS",
    "FORMAT",
    "opacity",
    "addLayerWMS",
    "layer",
    "addLayer",
    "servicos",
    "wms",
    "name",
    "zIndex",
    "visible",
    "Map",
    "target",
    "loadTilesWhileAnimating",
    "loadTilesWhileInteracting",
    "view",
    "View",
    "center",
    "zoom",
    "projection",
    "centerMap",
    "cordenadas",
    "getView",
    "setCenter",
    "setZoom",
    "recuperaCamadaPeloId",
    "caminho",
    "l",
    "getLayers",
    "forEach",
    "get",
    "removeUltimoPonto",
    "ultimoPontoAdicionado",
    "removeFeature",
    "feature",
    "removerPontos",
    "clear",
    "BhMapService",
    "httpClient",
    "buscaCamadaBhMap",
    "getFeatureDataWFS",
    "coordenadas",
    "bhMap",
    "camadaPrincipal",
    "pixel",
    "getPixelFromCoordinate",
    "objetoPontoGeometria",
    "x",
    "y",
    "raioBusca",
    "raiobusca",
    "lowerPixel",
    "assign",
    "lowerCoordinates",
    "getCoordinateFromPixel",
    "upperPixel",
    "upperCoordinates",
    "getQueryParams",
    "SERVICE",
    "REQUEST",
    "VERSION",
    "TYPENAME",
    "workspace",
    "typename",
    "OUTPUTFORMAT",
    "FILTER",
    "geom",
    "getFeature",
    "typeName",
    "cqlFilterGeometria",
    "urlBhMap",
    "parametros",
    "version",
    "request",
    "outputFormat",
    "CQL_FILTER",
    "type",
    "Injectable",
    "HttpClient",
    "AbstractCamada",
    "recuperaListaCamadasParaSelecao",
    "tiposCamadas",
    "configuraVisibilidadeEspecifico",
    "camadasSelecionadas",
    "featureAddedWFS",
    "bhMapComponentInstance",
    "_this",
    "getGeometry",
    "getCoordinates",
    "tipoControlePonto",
    "numeroTotalPontos",
    "length",
    "posicaoPonto",
    "coordenada",
    "bhMapService",
    "subscribe",
    "json",
    "features",
    "GeoJSON",
    "readFeatures",
    "results",
    "values_",
    "executaCallback",
    "emitter",
    "CamadaAreaTrechoLogradouro",
    "_super",
    "tslib_1.__extends",
    "featureAdded",
    "call",
    "objetoArr",
    "objetoRetorno",
    "idJaAdicionado",
    "geometry",
    "objetoOutputMapa",
    "objetosRetorno",
    "emit",
    "CamadasEnum",
    "resultado",
    "filter",
    "c",
    "setVisible",
    "getSource",
    "updateParams",
    "concat",
    "CamadaEndereco",
    "geocoderService",
    "recuperaEnderecoPorGeometria",
    "resposta",
    "endereco",
    "alert",
    "enderecoFormatado",
    "formataEndereco",
    "tipologradouro",
    "nomelogradouro",
    "numero",
    "confirm",
    "console",
    "error",
    "detalhes",
    "CamadaLogradouro",
    "isPonto",
    "arrayConcat",
    "arrayOrdenado",
    "reverse",
    "msg",
    "logradouro",
    "TIPO_LOGRADOURO",
    "NOME_LOGRADOURO",
    "trim",
    "CamadaDefault",
    "obj",
    "objRetorno",
    "CamadaParque",
    "parque",
    "data",
    "NOME",
    "FactoryCamada",
    "recuperaCallbacksCamada",
    "tipoCamadaPrincipal",
    "tipoCamada",
    "GeocoderService",
    "longitude",
    "latitude",
    "pontoWKT",
    "recuperaEnderecosPorLogradouro",
    "nomeLogradouro",
    "toLowerCase",
    "replace",
    "toUpperCase",
    "zoomEndereco",
    "latitudeLongitude",
    "getPonto",
    "wkt",
    "ini",
    "indexOf",
    "fim",
    "substr",
    "split",
    "BhMapComponent",
    "EventEmitter",
    "spinkit",
    "Spinkit",
    "factoryCamada",
    "ngOnInit",
    "abstractCamada",
    "carregarCamadas",
    "adicionaControlePonto",
    "adicionaPainelSelecaoCamadas",
    "draw",
    "Draw",
    "on",
    "evt",
    "addInteraction",
    "painelSelecaoCamadas",
    "tiposCamadasSelecaoUsuario",
    "zoomIn",
    "getZoom",
    "zoomOut",
    "removeInteraction",
    "configuraVisibilidade",
    "changeCamada",
    "keypressLogradouro",
    "event",
    "keyCode",
    "buscaLogradouro",
    "enderecos",
    "numeroLogradouro",
    "status",
    "msgErroEndereco",
    "limparEnderecos",
    "ngOnDestroy",
    "Component",
    "args",
    "selector",
    "styles",
    "template",
    "Input",
    "Output",
    "zoomMaximo",
    "getWorkspaceByCamada",
    "WorspaceCamadaEnum",
    "BhMapImageService",
    "registraVariaveis",
    "camadasEnum",
    "workspaceBase",
    "nomeMapaBase",
    "sirgas",
    "getGeometriasEImagem",
    "cqlFilter",
    "largura",
    "altura",
    "buffer",
    "Observable",
    "observer",
    "next",
    "complete",
    "aplicaFiltroEspecificoParaGeometria",
    "pipe",
    "mergeMap",
    "geometrias",
    "getImagem",
    "arrayBuffer",
    "service",
    "srs",
    "format",
    "bbox",
    "calculaAreaImagemPorGeometrias",
    "window",
    "Geometry",
    "Collection",
    "geometria",
    "addComponent",
    "calculateBounds",
    "oldBB",
    "getBounds",
    "Bounds",
    "left",
    "bottom",
    "right",
    "top",
    "width",
    "height",
    "cql_filter",
    "responseType",
    "blob",
    "PainelSelecaoCamadasComponent",
    "change",
    "camadas",
    "propagateChange",
    "_",
    "defineProperty",
    "set",
    "value",
    "writeValue",
    "registerOnChange",
    "fn",
    "registerOnTouched",
    "onChange",
    "camadaCorrente",
    "camadasResultantes",
    "providers",
    "provide",
    "NG_VALUE_ACCESSOR",
    "useExisting",
    "forwardRef",
    "multi",
    "model",
    "BhMapModule",
    "NgModule",
    "declarations",
    "imports",
    "CommonModule",
    "FormsModule",
    "NgHttpLoaderModule",
    "exports"
  ],
  "mappings": "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"
}
